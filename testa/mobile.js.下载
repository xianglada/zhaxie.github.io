!function(){function e(e){this.options=null==e?{}:e,this.init()}e.prototype={options:null,element:null,init:function(){this.element=this.render(),$(this.element).data("component",this),this.initEvents()},render:function(){return null},initEvents:function(){},getElement:function(){return this.element},show:function(){$(this.element).show()},hide:function(){$(this.element).hide()},getId:function(){return void 0!==this.element?$(this.element).attr("id"):""}},define("InfoPlus.Theme.BaseComponent",e)}(window),function(p,c){function e(e){this.options=null==e?{}:e,this.init()}e.prototype={options:null,formEntity:null,formRender:null,remarkRender:null,milestoneRender:null,name:"default",init:function(){},render:function(e,t){},adjustRender:function(){},remarkReady:function(e){var t=e.progress,n=e.userId,e=e.isDoing,o=(t.remarks,InfoPlus.RemarkRender.processSubProgress(t));this.renderMilestone(null!=o&&o.milestones!==c?o:t),this.renderRemark(null!=o?o:t,n),e&&!$$.params.snapshot&&this.createStepHelper(t.remarks),this.createCompareHelper(t),$$.remarkReady(null!=o?o:t)},showForm:function(){$$.params.holder.form.show()},getName:function(){return this.name},initEvents:function(){var e=this;$$.visible(function(){e.registerScrollEvent(),e.registerResizeEvent(),$IU.createFormReviews($$.entity.step),$IU.checkViewVisibility(!0),e.skipSetFocusToFirst!==c&&!1!==e.skipSetFocusToFirst||$IU.setFocusToFirstEditableTextBox()})},initOptions:function(){this.formEntity=this.options.formEntity,this.formRender=this.options.formRender},adjustVisibility:function(){$$.visibility.titleBar||$$.params.holder.title.hide(),$$.visibility.commandBar||$$.params.holder.commandHolder.hide(),$$.visibility.remark||($$.params.holder.remark.hide(),$("#nav_menu_history").children("span").addClass("disabled")),$$.visibility.milestone||$$.params.holder.milestone.hide(),$$.visibility.floatTool||$("#float_tool").hide(),$$.visibility.footer||$("#master_footer").hide()},adjustRenderContentClass:function(){0===$("#header_holder").length?$$.params.holder.renderContent.addClass("no_header"):$$.visibility.titleBar||$$.params.holder.renderContent.addClass("no_title")},registerResizeEvent:function(){var e=this;$(p).resize(function(){e.onResize()})},registerScrollEvent:function(){var s=this;$$.visibility.titleBar&&$$.visibility.commandBar&&$(p).scroll(function(){var e=$(document).scrollTop()||document.documentElement.scrollTop,t=$$.params.holder.commandHolder,n=$$.params.holder.title,o=$("#nav_menu"),i=t.parent(),a=n.height();0<t.length&&(i.css("top",(i=e<a?-e:-a)+"px"),o.css("top",i+t.height()+n.height()+"px"),0<(o=$("#command_bar_title_icon")).length)&&(a<e?o.is(":visible")||!0!==o.data("showing")&&(o.data("showing",!0),o.show("slide",{direction:"left",complete:function(){$(this).data("showing",!1)}},300)):o.is(":visible")&&o.hide(),s.switchCommandButtonOrMenu())})},onResize:function(e){this.switchTitleWidth(),this.switchCommandButtonOrMenu(e)},switchCommandButtonOrMenu:function(i){var a,e,t,n,o,s,l;$$.visibility.commandBar&&(a=function(){for(var e=0,t=$("#form_command_bar").find("li.tool_button:visible"),n=0,o=t.length;n<o;n++)e+=$(t[n]).outerWidth()+4+(i?6:0);return e+12},s=function(){var e=$("#form_command_bar"),t=$("#command_bar_title_icon"),n=document.documentElement.clientWidth,o=100,e=e.find("li.command_button"),e=(0<e.length&&0<e.outerWidth()&&(o=e.outerWidth()+2),n-=6,t.is(":visible")&&(n-=t.outerWidth()),n-=a(),Math.floor(n/o));return 1<e?e:1},e=$("li.command_button"),t=$("#command_menu"),l=e.length,$$.MOBILE?(3===l&&e.find(".command_button_content").removeClass("smallButton").removeClass("smallFont"),o=s(),3===l&&360<=document.documentElement.clientWidth&&o<3&&(e.find(".command_button_content").addClass("smallButton"),o=s(),n=!1,e.find("nobr").each(function(){12===$IU.chineseLength($(this).text())&&(n=!0)}),n)&&e.find(".command_button_content").addClass("smallFont"),o=o<l):(s=$("#command_bar_title_icon"),l=a()+function(){for(var e=$("#form_command_bar").find("li.command_button"),t=0,n=0,o=e.length;n<o;n++)t+=$(e[n]).outerWidth()+2;return t+=6}(),s.is(":visible")&&(l+=s.outerWidth()),l>document.documentElement.clientWidth&&(o=!0)),o?(e.addClass("hide"),t.removeClass("hide")):(e.removeClass("hide"),t.addClass("hide")))},switchTitleWidth:function(){var e,t,n,o,i,a,s;$$.visibility.titleBar&&(e=$(p).width(),t=$("#title_description"),n=$("#title_description_short"),o=t.outerWidth(),i=n.outerWidth(),a=$("#title_icon").outerWidth(),$("#changePriorityButton").outerWidth(),(s=$("#title_content")).css("max-width",e-(i+a+10)+"px"),(s.outerWidth()+o+a+10>e?(t.hide(),n):(n.hide(),t)).show())},createTitle:function(){var e,t;$$.visibility.titleBar&&(e=this.createNavMenu(),t=this.createTitleIcon(e),this.createTitleContent(t.commandBarIcon),this.navMenu=e)},createNavMenu:function(){for(var e=new InfoPlus.Render.NavMenu({onSaveClick:$$.save,onPrintClick:$$.print,onDownloadClick:$$.download,onHelpClick:function(){"function"==typeof p.loadHelp&&loadHelp()},onHistoryClick:function(){$IU.scrollTo($$.params.holder.remark.offset().top-40,500)},onRecoverClick:function(){for(var e=[],t=document.cookie.split(";"),n=0,o=t.length;n<o;n++){var i=t[n].split("=");0<i.length&&"noTip_"===(i=$IU.trimString(i[0])).substr(0,6)&&e.push(i)}for(n=0,o=e.length;n<o;n++)$IU.cookie.removeCookie(e[n]);$IU.messageBox(null,$$.lt("tip.recovered"),null,300)},onInstructionClick:$$.instruct}),t=this.formRender.views,n=0;n<t.length;n++){var o=t[n];null!=o.label&&(o.menuItem=e.createMenuItem("bookmark","view_label_"+o.index,o.name,"bookmark",function(e){return function(){$IU.fireClick(e)}}(o.label.element)))}return $$.params.holder.renderContent.prepend(e.getElement()),e},createTitleIcon:function(n){function e(){if(!0===o)return $IU.processBack($$.params.back),!1;var e,t=$(n.getElement());t.is(":visible")?!0!==t.data("hiding")&&(t.data("hiding",!0),t.hide("slide",{direction:"left",complete:function(){$(this).data("hiding",!1)}},100)):!0!==t.data("showing")&&(t.data("showing",!0),t.show("slide",{direction:"left",complete:function(){$(this).data("showing",!1)}},200),null!=(e=$(".infoplus_view_label").not(".infoplus_view_hide").first().data("menuLi")))&&(t.find("li.current").removeClass("current"),$(e).addClass("current"))}var o=$IU.showBackIcon(),t=new InfoPlus.Render.TitleIcon({id:"title_icon",back:o,onClick:e}),i=new InfoPlus.Render.TitleIcon({id:"command_bar_title_icon",back:o,onClick:e});return i.hide(),$$.params.holder.title.append(t.getElement()),$$.params.holder.commandBar.before(i.getElement()),{titleIcon:t,commandBarIcon:i}},createTitleContent:function(n){function e(e,t){i.addClass(e),$(n.getElement()).addClass(e),$("meta[name=theme-color]").attr("content",t)}var t=this.formEntity,o=t.step,t=t.app.name,i=$$.params.holder.title,a=t+(null!=o.name&&"null"!==o.name?":"+o.name:""),s=$$.lt("workflow.workflowNo")+":"+o.entryIdDisplay,l=$$.params.adminView?'<i title="'+$$.lt("workflow.admin")+'" class="i-icon-unlock"/>':"",r=l+s;null!=$$.entity.app.department&&""!==$$.entity.app.department&&(s+=","+$$.lt("workflow.department")+":"+$$.entity.app.department),null!=$$.entity.app.contact&&""!==$$.entity.app.contact&&(s+=","+$$.lt("workflow.contact")+":"+$$.entity.app.contact);if($$.params.adminView)a+="("+$$.lt("status.admin")+")",e("admin","#424242");else switch(o.entryStatus){case InfoPlus.Settings.INSTANCE_STATE_COMPLETE:a+="("+$$.lt("status.complete")+")",e("complete","#4CAF50");break;case InfoPlus.Settings.INSTANCE_STATE_TERMINATED:a+="("+$$.lt("status.terminate")+")",e("terminated","#D84315");break;case InfoPlus.Settings.INSTANCE_STATE_OFFLINE:a+="("+$$.lt("status.offline")+")",e("offline","#F9A825");break;default:2===o.status?(null!=o.actionName?a+="("+o.actionName+(null!=o.actionUserName?","+o.actionUserName:"")+")":a+="("+$$.lt("status.doing")+")",e("doing","#00ACC1")):e("todo","#039be5")}l+=s,s=new InfoPlus.Render.TitleContent({title:a,step:o,workflowName:t}),i.append(s.getElement()),t=new InfoPlus.Render.TitleDescription({full:l,compact:r});i.append(t.getElement())},createKillButton:function(e,t){function l(){$$.blockUI({message:"<span class='loading'>"+$$.lt("kill.blockMessage")+"</span>"}),$$.ajax({type:"POST",url:$$.params.uriKill,data:{stepId:null==$$.params.formStepId?-1:$$.params.formStepId,instanceId:$$.params.formInstanceId,rand:999*Math.random(),remark:$("#killRemark").val()},requestMsg:$$.lt("kill.message"),beforeShowErrorMsg:function(){$.unblockUI()}}).always(function(){$.unblockUI()}).done(function(){var e=$IU.isEmptyStr($$.params.back)?$IU.browserCloseable()?$$.lt("common.close"):$$.lt("common.ok"):$$.lt("common.back");$IU.messageBox(null,$$.lt("kill.success"),e,240,o)})}function n(){var e=$$.lt("kill.confirmTitle"),t=$$.lt("common.ok"),n=$$.lt("common.cancel"),o=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),s=document.createElement("textarea");return $(i).html($$.hlt("kill.confirm")).addClass("confirm_kill"),$(a).html($$.hlt("kill.reason")),$(s).attr("id","killRemark").attr("rows","5").css("width","100%").css("margin-top","10px"),$(o).append(i).append(a).append(s),new InfoPlus.Render.Dialog({title:e,content:o,maxWidth:460,buttons:[{name:t,defaultButton:!0,callback:l},{name:n}]}).show(),!1}var o=function(){$IU.closeWindow()},i=new InfoPlus.Render.ActionButton({id:"kill",text:$$.lt("kill.title"),textClass:"kill",tip:$$.lt("kill.tip"),hide:!0,onClick:n});e instanceof jQuery?e.prepend(i.getElement()):e.appendButton(i),t!==c&&t.addMenuItem({text:$$.lt("kill.title"),title:$$.lt("kill.menuTip"),name:"kill",onClick:n})},createWithdrawButton:function(e,t){$("#nav_menu_save").children("span").addClass("disabled");function n(){$$.blockUI({message:"<span class='loading'>"+$$.lt("withdraw.blockMessage")+"</span>"}),$$.ajax({type:"POST",url:$$.params.uriWithdraw,data:{stepId:null==$$.params.formStepId?-1:$$.params.formStepId,rand:999*Math.random()},requestMsg:$$.lt("withdraw.message"),beforeShowErrorMsg:function(){$.unblockUI()}}).always(function(){$.unblockUI()}).done(function(e){$IU.messageBox(null,$$.lt("withdraw.success"),null,240,function(){null!=e&&null!=e.entities&&null!=e.entities[0]&&null!=e.entities[0].renderUri?p.location.href=$IU.processUrl(e.entities[0].renderUri):p.location.reload()})})}function o(){var e=$$.hlt("withdraw.confirm"),t=$$.lt("withdraw.title");return $IU.confirmBox(e,t,$$.lt("common.ok"),400,n),!1}var i=new InfoPlus.Render.ActionButton({id:"withdraw",text:$$.lt("withdraw.title"),textClass:"withdraw",tip:$$.lt("withdraw.tip"),hide:!0,onClick:o});e instanceof jQuery?e.prepend(i.getElement()):e.appendButton(i),t!==c&&t.addMenuItem({text:$$.lt("withdraw.title"),title:$$.lt("withdraw.tip"),name:"withdraw",onClick:o})},createActionButtons:function(e,t,n){function o(){var e,t,n,o,i=$(this),a=i.data("actionId"),s=i.data("remarkRequired"),l=i.data("skipMessage"),r=i.data("inputBarCode"),d=i.data("hideConfirmWhenNoNextStep"),c=i.data("hidePrintPrompt");return!i.data("skipValidation")&&!1===$IU.doValidate(!1)||(e=function(){$IU.listSteps(a,d).done(function(e){var t;$IU.refreshReviewByForm(),!0===s||!0===e.showSelectUser?$IU.showDoAction(i,e):(t=$IU.getReviewData(),e={actionId:a,formData:e.jsonData,remark:e.remark||"",rand:999*Math.random()},null!=t&&(e.review=$.toJSON(t)),$$.doAction(e,{},l,function(){var e=$IU.closeAllDoc();if($$.blockUI({message:"<span class='loading'>"+$$.lt("submit.submitting")+"</span>"}),e)return 3e3},function(){$IU.reopenAllDoc(),$.unblockUI()},null,null,c))})},!0===r?(r=document.createElement("div"),t=document.createElement("span"),n=document.createElement("input"),o=$(n),$(t).text($$.lt("submit.scanBarcode")),$(r).append(t),t=document.createElement("span"),o.attr("id","form_thing_id_input").attr("type","text").attr("maxlength",InfoPlus.Controls.Thing.BARCODE_LENGTH),$(t).append(n),$(r).append(t),n=[{name:$$.lt("common.ok"),defaultButton:!0,callOnClose:!1,preventDefault:!0,callback:function(){if(""===o.val())return $IU.messageBox(null,$$.lt("submit.inputBarcode"),null,200,function(){o.focus()}),!1;$$.params.receiveCode=o.val(),e()}},{name:$$.lt("common.cancel")}],new InfoPlus.Render.Dialog({content:r,maxWidth:320,buttons:n}).show(),setTimeout(function(){o.focus()},100)):e()),!1}for(var i=t.length,a=0;a<i;a++){var s,l=t[a];null!=l&&(l.skipMessage=!(""!==(l.descriptionAfterAction||"")||$$.params.printAfterAction||$$.params.downloadAfterAction),l.remarkRequiredTip=$IU.trimString(l.remarkRequiredTip||""),l.oneKey=!0,s=new InfoPlus.Render.ActionButton({id:l.id,text:l.name,tip:l.description||"",action:l,hide:!0,onClick:function(){return $$.asynchronousInvoke(o,this),!1}}),e instanceof jQuery?e.prepend(s.getElement()):e.appendButton(s),n!==c)&&n.addMenuItem({text:l.name,title:l.description,name:l.id,action:l,onClick:function(){return $$.asynchronousInvoke(o,this),$(this).parents(".command_menu").removeClass("open"),!1}})}},createTransferActionButtons:function(e,m,t){function n(){var e,t,n,o,i=$(this),a=i.data("actionId"),s=i.data("remarkRequired"),l=i.data("skipMessage"),r=i.data("inputBarCode"),d=i.data("hideConfirmWhenNoNextStep"),c=i.data("hidePrintPrompt"),u=i.data("transferTo");return!i.data("skipValidation")&&!1===$IU.doValidate(!1)||(e=function(){$IU.listSteps(a,d,u).done(function(e){var t;$IU.refreshReviewByForm(),!0===s||!0===e.showSelectUser?$IU.showDoAction(i,e,m):(t=$IU.getReviewData(),e={actionId:a,formData:e.jsonData,remark:e.remark||"",rand:999*Math.random()},null!=t&&(e.review=$.toJSON(t)),$$.doAction(e,{},l,function(){var e=$IU.closeAllDoc();if($$.blockUI({message:"<span class='loading'>"+$$.lt("submit.submitting")+"</span>"}),e)return 3e3},function(){$IU.reopenAllDoc(),$.unblockUI()},null,null,c))})},!0===r?(r=document.createElement("div"),t=document.createElement("span"),n=document.createElement("input"),o=$(n),$(t).text($$.lt("submit.scanBarcode")),$(r).append(t),t=document.createElement("span"),o.attr("id","form_thing_id_input").attr("type","text").attr("maxlength",InfoPlus.Controls.Thing.BARCODE_LENGTH),$(t).append(n),$(r).append(t),n=[{name:$$.lt("common.ok"),defaultButton:!0,callOnClose:!1,preventDefault:!0,callback:function(){if(""===o.val())return $IU.messageBox(null,$$.lt("submit.inputBarcode"),null,200,function(){o.focus()}),!1;$$.params.receiveCode=o.val(),e()}},{name:$$.lt("common.cancel")}],new InfoPlus.Render.Dialog({content:r,maxWidth:320,buttons:n}).show(),setTimeout(function(){o.focus()},100)):e()),!1}function o(){var e=$(this),t=$$.params.formRender.save(null,!1),t=$.toJSON(t);$IU.showDoAction(e,{showSelectUser:!1,steps:[],jsonData:t,remark:""},m,i)}var i=!0,a=m.length,s=this.formEntity.actions.length;$$.params.killable&&(s+=1);if(i=1==a||s<=4?!1:i){var l=new InfoPlus.Render.ActionButton({id:-1,text:$$.lt("forward.title"),textClass:"forward",hide:!0,onClick:function(){return $$.asynchronousInvoke(o,this),!1}});e instanceof jQuery?e.prepend(l.getElement()):e.appendButton(l),t!==c&&t.addMenuItem({text:$$.lt("forward.title"),title:"",onClick:function(){return $$.asynchronousInvoke(o,this),$(this).parents(".command_menu").removeClass("open"),!1}})}else for(var r=0;r<a;r++){var d=m[r];null!=d&&(d.skipMessage=!(""!==(d.descriptionAfterAction||"")||$$.params.printAfterAction||$$.params.downloadAfterAction),d.remarkRequiredTip=$IU.trimString(d.remarkRequiredTip||""),d.oneKey=!0,l=new InfoPlus.Render.ActionButton({id:d.id,text:d.name,textClass:"forward",tip:d.description||"",action:d,hide:!0,onClick:function(){return $$.asynchronousInvoke(n,this),!1}}),e instanceof jQuery?e.prepend(l.getElement()):e.appendButton(l),t!==c)&&t.addMenuItem({text:d.name,title:d.description,name:d.id,action:d,onClick:function(){return $$.asynchronousInvoke(n,this),$(this).parents(".command_menu").removeClass("open"),!1}})}},createNoActionText:function(e){var t=$$.params.holder.commandBar,n=document.createElement("li");$(n).addClass("no_action"),$$.params.adminView?$(n).addClass("admin").text($$.lt("command.admin")):(e=null!=e.name&&"null"!==e.name&&null!=e.actionUser?$$.lt("command.isDone"):$$.lt("command.noAction"),$(n).text(e)),t.append(n)},createCommandButtonScrollTip:function(e){var t=$$.params.holder.commandBar,n=new InfoPlus.Render.ScrollTip({toolbarId:t.attr("id"),text:$$.lt("command.helper"),left:!0}),n=(t.find(">li.command_button").first().append(n.getElement()),new InfoPlus.Render.ScrollTip({toolbarId:t.attr("id"),text:$$.lt("command.helper"),left:!0}));$(e.getElement()).append(n.getElement())},createCommandBarButtons:function(){if($$.visibility.commandBar){for(var e=this.formEntity,t=e.actions,n=$$.params.holder.commandBar,o=[],i=[],a=0;a<t.length;a++)(t[a].transferTo!=c?o:i).push(t[a]);var s=new InfoPlus.Render.CommandMenu;n.prepend(s.getElement()),$$.params.killable&&this.createKillButton(n,s),!0===$$.params.readOnly?$$.params.withdrawable&&this.createWithdrawButton(n,s):(0<o.length&&this.createTransferActionButtons(n,o,s),0<i.length&&this.createActionButtons(n,i,s)),0===n.find("li.command_button").length&&this.createNoActionText(e.step),this.createCommandButtonScrollTip(s)}},createPrintInvoiceButton:function(){var e;!$$.MOBILE&&$$.params.printInvoice&&(e=new InfoPlus.Render.ToolButton({id:"PrintInvoice",iconName:"box-filled",tip:$$.lt("thing.printInvoice"),onClick:$$.printInvoice}),$$.params.holder.commandBar.append(e.getElement()))},createCompareButton:function(){var e=new InfoPlus.Render.ToolButton({id:"Compare",iconName:"my-library-books",hide:!0,disabled:!0,tip:$$.lt("compare.notSupport"),onClick:$$.compare});$$.params.holder.commandBar.append(e.getElement())},createDownloadHelper:function(){var e=document.createElement("div"),t=$(e),n=document.createElement("div"),o=$(n),o=($$.params.downloadAfterAction?o.text($$.params.printable&&!$$.MOBILE?$$.lt("download.downloadPrintAfterAction"):$$.lt("download.downloadAfterAction")):o.text($$.lt("download.support")),t.append(n),new InfoPlus.Render.CommandBarHelper({content:e,position:"right",dismissType:"printDownload"}));null!=o.element&&$$.params.holder.commandBar.append(o.element)},createDownloadButton:function(){var e;$$.params.adminView||$$.MOBILE||($$.params.downloadable&&$$.params.downloadAfterAction&&!$$.params.readOnly&&this.createDownloadHelper(),e="cloud-download",$$.params.exportSignature&&(e="signature-cloud-download"),e=new InfoPlus.Render.ToolButton({id:"Download",iconName:e,hide:$$.MOBILE&&!$$.params.downloadable,disabled:!$$.params.downloadable,tip:$$.params.downloadable?$$.lt("download.support"):$$.lt("download.notSupport"),onClick:$$.download}),$$.params.holder.commandBar.append(e.getElement()))},createPrintHelper:function(e){var t=document.createElement("div"),n=$(t),o=document.createElement("div"),i=$(o);if(n.append(o),$$.params.printAfterAction&&!$$.params.readOnly){if($$.params.downloadable)return;i.text($$.lt("print.printAfterActionHelper"))}else{var o=document.createElement("div"),a=$(o),i=(i.html($$.lt("print.helper")),document.createElement("a"));$(i).attr("href","#").text($$.lt("print.printNow")),a.append(i).addClass("helper_link_div"),$(i).click(function(){return $IU.fireClick($(e.getElement()).children("a")[0]),!1}),n.append(o)}a=new InfoPlus.Render.CommandBarHelper({content:t,position:"right",dismissType:"printDownload"});null!=a.element&&$("#form_command_bar").append(a.element)},createPrintButton:function(){var e;$$.params.adminView||$$.MOBILE||(e=new InfoPlus.Render.ToolButton({id:"Print",iconName:"print",hide:$$.MOBILE,disabled:!$$.params.printable||$$.MOBILE,tip:$$.params.printable?$$.lt("print.support"):$$.lt("print.notSupport"),onClick:$$.print}),$$.params.holder.commandBar.append(e.getElement()),!$$.MOBILE&&$$.params.printable&&this.createPrintHelper(e))},createSaveButton:function(){var e;$$.params.saveable&&(e=new InfoPlus.Render.ToolButton({id:"Save",iconName:"save",tip:$$.MOBILE?c:$$.hlt("save.tip"),scrollTip:$$.MOBILE?c:new InfoPlus.Render.ScrollTip({toolbarId:"form_command_bar",text:$$.lt("save.scrollTip"),left:!1}),onClick:$$.save}),$$.params.holder.commandBar.append(e.getElement()))},createAdminButton:function(){var e,t;($$.params.administrable||$$.params.adminView)&&(e=$$.params.adminView,t=new InfoPlus.Render.ToolButton({id:"Admin",iconName:e?"lock-open":"lock",tip:$$.MOBILE?c:e?$$.lt("admin.exit"):$$.lt("admin.manage"),onClick:function(){e?$IU.openUrl($IU.processUrl($$.params.adminViewUrl)):$IU.openUrl($IU.processUrl($$.params.adminUrl))}}),$$.params.holder.commandBar.append(t.getElement()))},createDebugHelper:function(){var e=document.createElement("div"),t=$(e),n=document.createElement("div"),t=($(n).text($$.lt("debug.helperText")),t.append(n),new InfoPlus.Render.CommandBarHelper({content:e,position:"right",dismissType:"debugMode"}));null!=t.element&&$$.params.holder.commandBar.append(t.element)},createDebugButton:function(){var e;$$.params.isRelease||$$.MOBILE||(e=new InfoPlus.Render.ToolButton({id:"Debug",iconName:"bug",tip:$$.lt("debug.tip"),onClick:function(){var e=$(".infoplus_debugConsole");0===e.length?new InfoPlus.DebugConsole:e.show()}}),$$.params.holder.commandBar.append(e.getElement()),this.createDebugHelper())},createReviewButton:function(){var e;$$.params.saveable&&(e=new InfoPlus.Render.ToolButton({id:"Review",iconName:"edit",tip:$$.MOBILE?c:$$.lt("review.buttonTip"),onClick:$$.review}),$$.params.holder.commandBar.append(e.getElement()))},createFloatTool:function(e){!0===$$.visibility.floatTool&&null!=(e=new InfoPlus.Render.FloatTool({workflowName:e.app.name,department:e.app.department||"",contact:e.app.contact||"",feedbackUrl:$$.params.supportUrl,entrustUrl:$$.params.entrustUrl,instructionUrl:$$.params.instructionUrl})).getElement()&&$(document.body).append(e.getElement())},createChangePriorityIcon:function(n){var e,o,t,i;$$.MOBILE||(n.allowChangePriority||null!=n.entryPriority&&3!==n.entryPriority)&&($$.params.currentPriority=null==n.entryPriority?3:n.entryPriority,e=document.createElement("div"),o=$(e),t=document.createElement("i"),$(t).addClass("i-icon-flag"),i=$$.lt("priority.current",$$.lt("priority.level"+$$.params.currentPriority)),n.allowChangePriority&&(i+=$$.lt("priority.clickToChange")),o.append(t).attr("id","changePriorityButton").attr("title",i),o.addClass("level"+$$.params.currentPriority),$("#title_content").prepend(e),n.allowChangePriority)&&o.click(function(){$$.ajax({type:"POST",url:$$.params.uriChangePriority,data:{stepId:$$.params.formStepId,priority:5===$$.params.currentPriority?3:5},showParseErrMsg:!1}).done(function(e){var e=e.entities[0],t=document.createElement("div"),e=($(t).text($$.lt("priority.changeSuccessfully",$$.lt("priority.level"+e))),o.removeClass("level"+$$.params.currentPriority),$$.params.currentPriority=e,$$.lt("priority.current",$$.lt("priority.level"+$$.params.currentPriority)));n.allowChangePriority&&(e+=$$.lt("priority.clickToChange")),o.attr("title",e).addClass("level"+$$.params.currentPriority),new InfoPlus.Tip({content:t,hideClose:!0,color:"#FFFFFF",backgroundColor:"#039be5",position:"left",autoClose:!0,unique:!0})}).fail(function(e){var t=document.createElement("div");$(t).text($$.lt("priority.changeFailed",e.msg)),new InfoPlus.Tip({content:t,hideClose:!0,color:"#FFFFFF",backgroundColor:"#039be5",position:"left",autoClose:!0,unique:!0})})})},createFeedbackDiv:function(e,t){var n,o,i,a;null==$$.params.supportUrl&&null==$$.params.instructionUrl||(n=document.createElement("div"),o=$(n),null!=$$.params.instructionUrl&&(i=document.createElement("a"),(i=$(i)).text($$.lt("common.instruction")).click($$.instruct),o.append(i)),null!=$$.params.supportUrl&&(i=document.createElement("a"),(i=$(i)).text($$.lt("workflow.support")).attr("target","_blank").attr("href",(a=$$.params.supportUrl,a+="?stepId="+(null==$$.params.formStepId?-1:$$.params.formStepId),null!=$$.params.formEntryId&&(a+="&entryId="+$$.params.formEntryId),null!=$$.params.workflowId&&(a+="&workflowId="+$$.params.workflowId),null!=$$.params.release&&(a+="&workflowRelease="+$$.params.release),a)),o.append(i)),o.addClass("feedback"),e.append(n))},createMobileToolButton:function(r){var d,c,t,u,e;$$.MOBILE&&(d=this,c=function(e,t,n,o,i,a,s){var l,r=document.createElement("li"),d=$(r),e=(d.attr("id","moreMenu"+e).addClass("more_menu_item"),document.createElement("span")),c=document.createElement("i"),t=($(c).addClass("i-icon-"+t),$(e).append(c),null!=n&&$(e).addClass("menu_icon_"+n),document.createElement("span"));return $(t).addClass("more_menu_text").text(o),null!=i?null==a?d.append(e).append(t).on("click",i):(l=document.createElement("a"),$(l).attr("href",a).append(e).append(t).on("click",i),null==s?$(l).attr("target","_self"):$(l).attr("target",s),d.append(l)):(l=document.createElement("a"),$(l).attr("href",a).append(e).append(t),null==s?$(l).attr("target","_self"):$(l).attr("target",s),d.append(l)),r},t=function(){var e,t,n,o=document.createElement("div"),i=document.createElement("ul"),a=$(i),s=document.createElement("div"),l=$(s);return a.addClass("more_menu_group"),l.addClass("more_info"),n=a,($$.params.administrable||$$.params.adminView)&&($$.params.adminView?n.append(c("Admin","lock-open",null,$$.lt("admin.exit"),null,$IU.processUrl($$.params.adminViewUrl))):n.append(c("Admin","lock",null,$$.lt("admin.manage"),null,$IU.processUrl($$.params.adminUrl)))),$$.params.administrable&&n.append(c("ShowAdminRemarks","history",null,$$.lt("admin.showRemark"),function(){u.close(function(){$(".remark_admin,.remark_withdraw,.remark_withdrawn,.remark_kill").addClass("show"),$$.params.holder.remark.children("ul").children("li").not(".remark_show_admin").not(":last").css("border-bottom","")})})),n=a,$$.params.saveable&&(e=c("Review","edit","review",$$.lt("common.review"),function(){u.close($$.review)}),$(e).find("i.i-icon-edit").css({position:"relative",left:"2px",top:"1px"}),null!=$$.params.review&&0<$$.params.review.length&&$(e).children(".menu_icon_review").addClass("mark_red"),n.append(e)),n=a,$$.params.saveable&&n.append(c("Save","save","save",$$.lt("common.save"),function(){u.close($$.save)})),e=a,!$$.params.adminView&&$$.params.printable&&e.append(c("Print","print","print",$$.lt("common.print"),function(){u.close($$.print)})),n=a,!$$.params.adminView&&$$.params.downloadable&&n.append(c("Download","cloud-download","download",$$.lt("common.download"),function(){u.close($$.download)})),n=a,null!=$$.params.sameStepHistoryList&&n.append(c("Compare","my-library-books","compare",$$.lt("common.compare"),function(){u.close($$.compare)})),0<a.children().length&&$(o).append(i),t=l,n=document.createElement("div"),$(n).text($$.lt("workflow.workflowNo")+"："+r.entryIdDisplay),t.append(n),null!=$$.entity.app.department&&""!==$$.entity.app.department&&(n=document.createElement("div"),$(n).text($$.lt("workflow.department")+"："+$$.entity.app.department),t.append(n)),null!=$$.entity.app.contact&&""!==$$.entity.app.contact&&(n=document.createElement("div"),$(n).text($$.lt("workflow.contact")+"："+$$.entity.app.contact),t.append(n)),setTimeout(function(){d.createFeedbackDiv(t,u)},0),$(o).append(s),o},e=new InfoPlus.Render.ToolButton({id:"More",iconName:"more-vert",onClick:function(){var e=t();(u=new InfoPlus.Render.Mobile.BottomSheet({content:e})).show()}}),$$.params.holder.commandBar.append(e.getElement()))},createGoTopToolButton:function(){var n=new InfoPlus.Render.ToolButton({id:"GoTop",iconName:"publish",onClick:function(){return $("html, body").animate({scrollTop:"0px"},400),!1}});$$.params.holder.commandBar.append(n.getElement()),n.hide();$(p).scroll(function(){var e,t;($(p).scrollTop()||document.documentElement.scrollTop)>=$(p).height()/2?$(n.getElement()).is(":visible")||$(n.getElement()).outerWidth(!0)+(e=$$.params.holder.commandBar,t=0,e.children(".command_button:visible,.tool_button:visible").each(function(){this!==n.getElement()&&(t+=$(this).outerWidth(!0))}),t)<$$.params.holder.commandBar.outerWidth()&&n.show():n.hide()})},createEntrustHelper:function(){var e,t,n,o,i,a,s,l,r,d,c,u=$$.params.entrusts;null!=u&&null!=u.entruster&&(e=document.createElement("div"),t=$(e),n=document.createElement("span"),o=$(n),i=document.createElement("i"),a=$(i),s=u.entruster.userName||u.entruster.account,l=u.entrustee.userName||u.entrustee.account,s="<span class='entruster'>"+u.entruster.name+"("+s+")</span>",l=u.entrustee.name+"("+l+")",r="<i class='i-icon-user-secret'/>",r=(r+=$$.params.entrusts.entrusted?$$.lt("entrust.tip.entrust",$$.params.entrusts.entruster.name):$$.lt("entrust.tip.debug",$$.params.entrusts.entruster.name))+"，"+($$.params.entrusts.entrusted?$$.lt("entrust.attention",s,l):$$.lt("entrust.debugAttention",s,l)),o.html(r),o.css("cursor","pointer").css("display","block"),a.addClass("i-icon-close2 infoplus_tip_close").attr("title",$$.lt("entrust.close")),t.append(n).append(i),d=new InfoPlus.Render.CommandBarHelper({content:e,position:"top",backgroundColor:"#fff9c4"}),(0<(c=$$.params.holder.commandBar).length?c:$(document.body)).append(d.element),o.click(function(){$IU.chooseEntrust(u)}),$(i).click(function(){return d.hide(),!1}),setTimeout(function(){d.show(0===c.length)},1e3))},createFooter:function(){var e;$$.visibility.footer&&(e=new InfoPlus.Render.Footer,$$.params.renderContainer.append(e.getElement()))},renderRemark:function(e,t){this.remarkRender=new InfoPlus.RemarkRender({stepId:null==$$.params.formStepId?-1:$$.params.formStepId,instanceId:$$.params.formInstanceId,progress:e,userId:t,readOnly:$$.params.readOnly,administrable:$$.params.administrable}),this.remarkRender.draw()},renderMilestone:function(e){$$.params.administrable||(this.milestoneRender=new InfoPlus.MilestoneRender({milestones:e.milestones,status:e.status}),this.milestoneRender.draw())},createSnapshotHelper:function(e){var t,n,o,i,a,s,l,r;$$.params.snapshot&&(t=document.createElement("div"),n=$(t),o=document.createElement("span"),i=$(o),a=document.createElement("i"),s=$(a),i.text($$.lt("snapshot.tip",$IU.dateFormat(new Date(1e3*e.actionTime),"yyyy-MM-dd hh:mm:ss"),e.name)),s.addClass("i-icon-close2 infoplus_tip_close").attr("title",$$.lt("entrust.close")),n.append(o).append(a),l=new InfoPlus.Render.CommandBarHelper({content:t,position:"top",backgroundColor:"#fff9c4"}),(0<(r=$$.params.holder.commandBar).length?r:$(document.body)).append(l.element),$(a).click(function(){return l.hide(),!1}),setTimeout(function(){l.show(0===r.length)},1e3))},createTodoHelper:function(e){var t=document.createElement("div"),n=$(t),o=document.createElement("div"),i=$(o),o=(n.append(o),document.createElement("a"));if($(o).attr("href","#").text($$.lt("common.notDoAtOnce")),$IU.isArray(e)){var a=e,s=(i.text($$.lt("todo.doSteps")),document.createElement("div")),l=$(s);setTimeout(function(){var e=$IU.getPageSize().WinH-120;0<$("#header_holder").length&&(e-=$("#header_holder").height()),e&&0<e&&l.css({"max-height":e+"px",overflow:"auto"})},0);for(var r=0,d=a.length;r<d;r++){var c=document.createElement("div");$(c).text($$.lt("todo.doJob")),u=document.createElement("a"),$(u).attr("href","#").data("link",$IU.processUrl(a[r].renderUri)).text(a[r].stepName).click(function(){return p.location.href=$(this).data("link"),!1}),$(c).append(u).css("text-align","left"),l.append(c)}n.append(l),c=document.createElement("div"),$(c).append(o).css("text-align","right"),n.append(c)}else{i.text($$.lt("todo.doStep")+"“"+e.stepName+"”");var c=document.createElement("div"),u=document.createElement("a");$(u).attr("href","#").text($$.lt("common.doAtOnce")).click(function(){return p.location.href=$IU.processUrl(e.renderUri),!1}),$(c).append(u).append(o).css("text-align","center").css("margin-top","5px"),$(t).append(c)}var m=new InfoPlus.Render.CommandBarHelper({content:t,position:"left"});$$.params.holder.commandBar.append(m.element),$(o).click(function(){return m.hide(),!1})},createDoingHelper:function(e){for(var t=document.createElement("span"),n="",o=0,i=e.length;o<i;o++){var a=e[o],s=(l=void 0,"[Hidden]"===(l=(s=a).trueName||s.userName||"")?l=$$.lt("todo.user"):""===l&&(l="PUBLIC"===s.userVisibility?"<a class='relatedUser' stepId='"+s.formStepId+"'>"+$$.lt("todo.user")+"</a>":$$.lt("todo.user")),n=l+$$.lt("todo.doing")+(null!=a.stepName?"“"+a.stepName+"”":""),document.createElement("div")),l=document.createElement("nobr");$(l).html(n),$(s).append(l),$(t).append(s)}$(t).addClass("toolbar_helper left round-corner z-depth-1"),$(t).find(".relatedUser").click(function(){var e,t=$(this).attr("stepId");null!=t&&(e=$(document).find("meta[itemscope=csrfToken]").attr("content"),new InfoPlus.Render.Candidates({popper:this,requestUrl:$$.params.graphqlUrl+"?csrfToken="+e,requestData:"{candidates(stepId:"+t+",keyword:?){id,name,account,userName,email}}",dataEntityName:"candidates"}))});var r=document.createElement("div"),d=($(r).css("margin-top","6px"),document.createElement("a")),r=($(d).attr("href","#").text($$.lt("common.dismiss")),r.appendChild(d),t.appendChild(r),$(d).click(function(){return $(t).hide("fade",function(){$(t).remove()}),!1}),$(t).click(function(){return!1}),$$.params.holder.commandBar),d=r.children(".no_action");0<d.length?d.append(t):0<(d=r.children(".command_button")).length&&$(d[0]).append(t)},createStepHelper:function(e){var t=[],n=[];if($IU.isArray(e))for(var o=0,i=e.length;o<i;o++){var a=e[o];1===a.status&&(null!=a.renderUri?t:n).push(a)}0<t.length?1===t.length?this.createTodoHelper(t[0]):this.createTodoHelper(t):0<n.length&&this.createDoingHelper(n)},createCompareHelper:function(e){var t,n,o,i,a,s,l=[];if(null!=e.remarks&&null!=$$.entity.step)for(var r=$$.entity.step.flowStepId,d=$$.entity.step.code,c=0,u=e.remarks.length;c<u;c++){var m=e.remarks[c];2===m.status&&m.userName===$$.params.userId&&m.stepCode===d&&m.formStepId!==r&&l.push(m)}if(0<l.length)for(l.sort(function(e,t){return t.actionTime-e.actionTime}),$$.params.sameStepHistoryList=$$.params.sameStepHistoryList||[],c=0,u=l.length;c<u;c++)$$.params.sameStepHistoryList.push(l[c]);$$.MOBILE||(o=function(){t.show(),t.enable(),t.setTip($$.lt("compare.support"))},n=$("#FormCommandCompare"),t=n.data("buttonControl"),0<n.length&&($IU.isArray($$.params.sameStepHistoryList)&&0<$$.params.sameStepHistoryList.length?o():0<l.length?(o(),n=document.createElement("div"),o=$(n),i=document.createElement("div"),$(i).html($$.lt("compare.helperText")),o.append(i),i=document.createElement("div"),s=$(i),a=document.createElement("a"),$(a).attr("href","#").text($$.lt("compare.compareNow")),s.append(a).addClass("helper_link_div"),$(a).click(function(){return $IU.fireClick($(t.getElement()).children("a")[0]),!1}),o.append(i),null!=(s=new InfoPlus.Render.CommandBarHelper({content:n,position:"right",dismissType:"compare"})).element&&$$.params.holder.commandBar.append(s.element)):(t.hide(),t.disable(),t.setTip($$.lt("compare.notSupport")))))}},define("InfoPlus.Theme.BaseLayout",e)}(window),function(){function e(e){InfoPlus.Theme.BaseLayout.call(this,e),this.initOptions()}e.prototype=$.extend(new InfoPlus.Theme.BaseLayout,{render:function(e,t){this.createTitle(e),this.createCommandBarButtons(),this.createMobileToolButton(t),this.createGoTopToolButton(),this.createEntrustHelper(),this.createSnapshotHelper(t),this.createFooter(),this.initEvents()},adjustRender:function(){this.adjustVisibility(),this.adjustRenderContentClass()}}),define("InfoPlus.Render.Layout",e)}(window),function(s,u){function e(e){null!=e&&(this.id=Math.round(1e6*Math.random()),!0===e.lowZindex&&(this.baseZindex=10),InfoPlus.Theme.BaseComponent.call(this,e))}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{id:null,baseZindex:1e4,$defaultButton:null,detectFlag:null,render:function(){var e=this.createDialog();return this.element=e,this.initOptions(),this.createButtons(),this.initMaxHeight(),this.initPosition(),!0===this.options.autoHeight&&this.initDetectHeightChange(),e},initEvents:function(){var t=this,n=$(this.element);!1!==this.options.closeOnEscape&&(n.on("keydown",function(e){n.is(":visible")&&!e.isDefaultPrevented()&&e.keyCode&&27===e.keyCode&&(t.close(),e.preventDefault())}),$(document).on("keydown.dialog",function(e){n.is(":visible")&&!e.isDefaultPrevented()&&e.keyCode&&27===e.keyCode&&(t.close(),e.preventDefault())}))},rebuild:function(e){this.options=e,this.initOptions(),this.createButtons(),this.initMaxHeight(),this.initPosition()},findMaxZIndex:function(){var t=this.baseZindex;return $(".overlay").each(function(){var e=parseInt($(this).css("z-index"),10);!isNaN(e)&&t<e&&(t=e)}),t+1},createDialog:function(){var e=this.options.container,t=null,n=(!1!==this.options.modal&&(t=document.createElement("div"),(a=$(t)).addClass("overlay").css("z-index",this.findMaxZIndex())),document.createElement("div")),o=$(n),i=this.id,i=(this.options&&this.options.key&&o.attr("key",this.options.key),o.addClass("dialog").css("display","none").attr("id","dialog_container_"+i),null!=t&&a.append(n),!1===this.options.modal&&o.addClass("modeless"),document.createElement("div")),a=$(i),i=(a.addClass("dialog_body"),o.append(i),document.createElement("div")),o=($(i).addClass("dialog_footer"),o.append(i),document.createElement("div")),i=$(o),s=(i.addClass("dialog_title clearFix"),document.createElement("span")),s=($(s).addClass("dialog_title_span"),i.append(s),document.createElement("a")),l=document.createElement("i"),r=($(l).addClass("i-icon-close2"),$(s).append(l).addClass("dialog_close button").attr("href","#").attr("title",$$.lt("dialog.button.close")),i.append(s),this),l=($(s).click(function(){return r.close(),!1}),document.createElement("a")),s=document.createElement("i"),s=($(s).addClass("i-icon-external-link"),$(l).append(s).addClass("dialog_openNew button").attr("href","#"),i.append(l),this.options.openNewUrl!==u&&$(l).attr("href",this.options.openNewUrl).attr("target","_blank").attr("title",$$.lt("dialog.button.openNew")),document.createElement("a")),l=document.createElement("i"),l=($(l).addClass("i-icon-minus"),$(s).append(l).addClass("dialog_minimise button").attr("href","#").attr("title",$$.lt("dialog.button.min")),i.append(s),$(s).click(function(){return r.minimise(this),!1}),document.createElement("div"));return $(l).addClass("dialog_content"),a.append(o).append(l),null!=e?(e instanceof jQuery?e:$(e)).append(null!=t?t:n):document.body.appendChild(null!=t?t:n),n},initOptions:function(){var e,t=this.options,n=$(this.element),o=n.children(".dialog_body"),i=o.children(".dialog_content"),a=o.children(".dialog_title"),s=n.children(".dialog_footer"),l=a.children(".dialog_title_span"),r=a.children(".dialog_close"),d=a.children(".dialog_openNew"),c=a.children(".dialog_minimise"),u=(null!=t.overflow&&(i.css("overflow-x","auto"),i.css("overflow-y",t.overflow),n.css("overflow",t.overflow)),null!=t.onShow&&"function"==typeof t.onShow&&n.data("onShowCallback",t.onShow),null!=t.onClose&&"function"==typeof t.onClose&&n.data("onCloseCallback",t.onClose),null!=t.beforeClose&&"function"==typeof t.beforeClose&&n.data("beforeCloseCallback",t.beforeClose),t.content),m=t.title;null!=t.maxWidth?$IU.isNumberExactly(t.maxWidth)?n.css("max-width",t.maxWidth+"px"):n.css("max-width",t.maxWidth):n.css("max-width","none"),!0===t.autoWidth&&n.css("width","auto"),!0===t.footerFlex?s.addClass("dialog_footer_flex"):s.removeClass("dialog_footer_flex"),!1===t.showFooter&&(s.hide(),o.addClass("disableFooter")),$IU.isEmptyStr(m)?(l.empty().removeClass("text"),a.hide()):(a.show().addClass("text"),l.text(m),null!=t.titleColor?l.css("color",t.titleColor):l.css("color","")),!0===t.showCloseButton?(r.addClass("show"),a.show()):r.removeClass("show"),!0===t.showOpenNewButton?(d.addClass("show"),a.show()):d.removeClass("show"),!0===t.showMinimiseButton?(c.addClass("show"),a.show()):c.removeClass("show"),i.empty(),u instanceof jQuery?(u.detach().appendTo(i),u.is(":visible")||u.show()):i.html(u),$IU.isEmptyStr(m)?l.css("width","0"):(s=n.width(),e=0,a.children(".button.show").each(function(){e+=25}),r=parseInt(o.css("padding-left"),10),d=parseInt(o.css("padding-left"),10),isNaN(r)||(e+=r),isNaN(d)||(e+=d),l.css("width",s-e+"px"))},processesButtonWidth:function(){},createButtons:function(){if(!0!==this.options.noButton){var e=this.options.buttons,t=this.options.footerFlex,n=$(this.element),o=n.find(".dialog_footer"),i=this;o.empty(),null==e?e=[{name:$$.lt("common.ok")}]:$IU.isArray(e)?0===e.length&&(e=[{name:$$.lt("common.ok")}]):e=[e];for(var a=0,s=e.length;a<s;a++){var l=e[a],r=document.createElement("button"),d=$(r),c=(d.addClass("dialog_button").text(l.name!==u?l.name:$$.lt("common.ok")),!0!==l.defaultButton&&1!==s||(d.addClass("default"),this.$defaultButton=d),l.className!==u&&d.addClass(l.className),!0===l.callOnClose&&null!=l.callback&&"function"==typeof l.callback&&n.data("callback",l.callback),d.data("button",l),o.append(r),!0===t?d.addClass("flex"):d.addClass("fr"),function(){var e,t=$(this).data("button"),n=t.callback;return!0===t.preventDefault?!(e=!0)!==(e=null!=n&&"function"==typeof n?n():e)?i.close():$(this).one("click",c):(!0==!t.callOnClose&&null!=n&&"function"==typeof n&&n(),i.close()),!1});$(r).one("click",c)}t||this.processesButtonWidth()}},changeButton:function(e,t){var n=$(this.element).find(".dialog_footer").children(".dialog_button");n.length>e&&(n=$(n[e]),null!=t.name)&&n.text(t.name)},initMaxHeight:function(){var e=$(this.element),t=e.children(".dialog_body"),n=t.children(".dialog_content"),o=t.children(".dialog_title"),e=e.children(".dialog_footer"),o=0<o.outerHeight()?33:0,o=$(s).height()-(o+e.find("button").outerHeight(!0)+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom")));n.css("max-height",o+"px")},initPosition:function(){},initDetectHeightChange:function(){},getTransitionEndEventName:function(){var e,t=document.createElement("fake"),n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&t.style[e]!==u)return n[e];return null},appear:function(){$(this.element).parent(".overlay").show()},hide:function(){$(this.element).parent(".overlay").hide()},animateHide:function(e,t){var n=$(this.element),o=n.parent(".overlay");n.data("oldPosition",{"margin-left":n.css("margin-left"),"margin-top":n.css("margin-top"),width:n.width(),height:n.height()}),n.animate(e,200,function(){o.hide(),null!=t&&"function"==typeof t&&t()})},animateShow:function(e){var t=$(this.element);t.parent(".overlay").show(),t.animate(t.data("oldPosition"),200,function(){t.css("width","").css("height","").css("overflow",""),null!=e&&"function"==typeof e&&e()})},show:function(){var n=this,e=$(".dialog");if(!0===e.data("hiding"))return e.one("hideEnd",function(){n.show()}),null;var o=$(this.element),i=o.parent(".overlay"),a=o.children(".dialog_body").children(".dialog_content");i.addClass("active"),o.css("display","block"),!0===this.options.backgroundNoScroll&&$(document.body).addClass("noScroll"),setTimeout(function(){function e(){null!=(e=o.data("onShowCallback"))&&"function"==typeof e&&e(),i.data("isDialogDisplay",!0);var e=parseInt(a.css("max-height"),10);isNaN(e)||a.children().height()>e&&a.css("padding-right","20px"),!0===n.options.showMinimiseButton&&o.addClass("resizable")}o.addClass("display"),o.data("transitionEndEventName")===u&&o.data("transitionEndEventName",n.getTransitionEndEventName());var t=o.data("transitionEndEventName");null!=t?o.one(t,e):e(),null!=n.$defaultButton&&n.$defaultButton.focus()},100)},close:function(){function e(){n.removeClass("active"),t.css("display","none");var e=t.data("onCloseCallback");null!=e&&"function"==typeof e&&e(),n.removeClass("active"),t.css("display","none"),null!=(e=t.data("callback"))&&"function"==typeof e&&e(),t.data("beforeCloseCallback",null).data("onCloseCallback",null).data("callback",null).css("max-width","none").css("width",""),t.data("hiding",!1),t.trigger("hideEnd"),(0<n.length?n:t).remove(),$(document).off("keydown.dialog")}var t=$(this.element),n=t.parent(".overlay"),o=(null!==this.detectFlag&&clearInterval(this.detectFlag),t.data("beforeCloseCallback")),o=(null!=o&&"function"==typeof o&&o(),t.data("hiding",!0),$IU.clearErrorPrompt(t),!0===this.options.backgroundNoScroll&&$(document.body).removeClass("noScroll"),!0===this.options.showMinimiseButton&&t.removeClass("resizable"),t.removeClass("display"),n.data("isDialogDisplay",!1),t.data("transitionEndEventName")===u&&t.data("transitionEndEventName",this.getTransitionEndEventName()),t.data("transitionEndEventName"));null!=o?t.one(o,e):e()},minimise:function(e){var t,n,o,i=this.element,a=$(this.element);i.style.height=$IU.getComputedStyle(i,"height"),i.style.top=$IU.getComputedStyle(i,"top"),a.hasClass("minimise")?(t=parseInt(a.css("top"),10),setTimeout(function(){a.removeClass("minimise").css("top","").css("height","")},0),$(e).children("i").removeClass("i-icon-expand").addClass("i-icon-minus"),$(e).attr("title",$$.lt("dialog.button.min")),n=0,$(".dialog.minimise").each(function(){var e;i!==this&&(e=parseInt($(this).css("z-index"),10),!isNaN(e)&&n<e&&(n=e),e=parseInt($(this).css("top"),10),!isNaN(t)&&!isNaN(e)&&e<t&&(e+=60),$(this).css("top",e+"px"))}),n++,a.css("z-index",n)):($IU.clearErrorPrompt(a),a.css("z-index",""),o=$(s).height(),$(".dialog.minimise").each(function(){var e=parseInt($(this).css("top"),10);!isNaN(e)&&e<o&&(o=e)}),o-=60,setTimeout(function(){a.addClass("minimise").css("height","").css("top",o+"px")},0),$(e).attr("title",$$.lt("dialog.button.restore")),$(e).children("i").removeClass("i-icon-minus").addClass("i-icon-expand"))}}),define("InfoPlus.Render.BaseDialog",e)}(window),function(){function m(e){InfoPlus.Render.BaseDialog.call(this,e)}m.RIGHTEST_BUTTON_MARGIN=16,m.DEFAULT_BUTTON_MIN_WIDTH=88,m.prototype=$.extend(new InfoPlus.Render.BaseDialog,{initEvents:function(){var e=$(this.element),t=e.parent(),n=this;e.click(function(e){e.stopPropagation()}),setTimeout(function(){t.click(function(){!0===$(this).data("isDialogDisplay")&&n.close(!1)})},500)},processesButtonWidth:function(){var c,e,t,u;this.options.buttons.lentgh<3||(c=$(this.element),e=$IU.getWindowWidth(),t=parseInt(c.css("margin-left"),10)+parseInt(c.css("margin-right"),10),0===e)||isNaN(t)||(u=$(this.element).find(".dialog_button"),setTimeout(function(){var e=c.innerWidth(),t=m.RIGHTEST_BUTTON_MARGIN,n=parseInt($(u[0]).offset().top,10),o=[n],i=[];i[n]=[],u.each(function(){t+=$(this).outerWidth(),console.log($(this).outerWidth()+",total:"+t);var e=parseInt($(this).offset().top,10);e!==n?$IU.arrayContains(o,e)?i[e].push(this):(o.push(e),i[e]=[this]):i[n].push(this)}),console.log(t),console.log(e),e<=t&&u.addClass("compact");for(var a=0,s=o.length-1;a<s;a++)for(var l=i[o[a]],r=0,d=l.length;r<d;r++)$(l[r]).addClass("nl")},200))}}),define("InfoPlus.Render.Dialog",m)}(window),function(n){function e(e){null!=e&&(this.options=e,this.id=e.prefix+e.index,this.prefix=e.prefix,this.index=e.index,this.render=e.render,this.element=e.element,this.holder=e.holder,this.hasLabel=e.hasLabel,this.name=e.render.name,this.init())}e.DATA_CONTROL_OBJECT="viewControl",e.CLASS_VIEW="infoplus_view",e.CLASS_MOBILE_VIEW="infoplus_mobile_view",e.prototype={menuItem:null,path:"",dynamicProcessor:new InfoPlus.Dynamics.Processor,init:function(){this.addViewClass(),this.createLabel(),this.addPrintPagination(),this.appendViewDom(),this.appendLabel(),this.processAutoWidthView()},addViewClass:function(){this.element.id=this.id,$(this.element).addClass(e.CLASS_VIEW).data(e.DATA_CONTROL_OBJECT,this),$$.MOBILE&&!0===this.render.mobile&&$(document.body).addClass(InfoPlus.Layout.View.CLASS_MOBILE_VIEW),$$.MOBILE||$(this.element).addClass("round-corner").addClass("shadow")},appendLabel:function(){null!=this.label&&null!=this.label.getElement()&&$(this.element).append(this.label.getElement())},createLabel:function(){this.hasLabel&&(this.options,this.label=new InfoPlus.Render.ViewLabel({view:this}))},addPrintPagination:function(){var t=this.id;$$.PRINT&&0<this.index&&($(this.element).css("page-break-before","always"),$(this.element).find("."+InfoPlus.Repeat.RepeatControl.CLASS_REPEAT_SECTION).each(function(e){0!==e&&1===$(this).parentsUntil("#"+t).length&&$(this).css("page-break-before","always")}))},appendViewDom:function(){var e,t;$$.MOBILE?(e=document.createElement("div"),$(e).addClass("infoplus_view_wrap_inner"),$.browser.msie&&$(e).css("top","17px"),e.appendChild(this.element),t=document.createElement("div"),$(t).addClass("infoplus_view_wrap_outer").addClass("shadow"),t.appendChild(e),this.holder.appendChild(t)):this.holder.appendChild(this.element)},processAutoWidthView:function(){var e=this.render;!0===e.autoWidth&&e.width!==n&&$(this.element).find("table").each(function(){var e;0===$(this).parentsUntil("."+InfoPlus.Layout.View.CLASS_VIEW).filter("table").length&&null!=(e=this.getAttribute("style"))&&""!==e&&(e=e.replace("width:100%","width:98%"),this.setAttribute("style",e))})},getDynamicKeyName:function(){return this.id},getDynamicContextControlName:function(){return this.id},setDynamicStyle:function(e,t){this.dynamicProcessor.processDynamicStyle(this,e,n,n,t)},doDynamicAction:function(e,t){this.dynamicProcessor.processDynamicAction(this,e,n,n,t)},show:function(){$(this.element).show(),$(this.menuItem).show(),InfoPlus.Render.ViewLabel.refreshLabels()},hide:function(){$(this.element).hide(),$(this.menuItem).hide(),InfoPlus.Render.ViewLabel.refreshLabels()},visible:function(e,t){e?($IU.dynamicShowElement($(this.element)),this.show()):($IU.dynamicHideElement($(this.element)),this.hide())},expanded:function(e,t){}},define("InfoPlus.Layout.BaseView",e)}(void window),function(){function d(e){InfoPlus.Layout.BaseView.call(this,e)}function c(e){$(e).css("overflow","")}d.DATA_CONTROL_OBJECT="viewControl",d.DATA_HIDE_BY_SHRINK_VIEW="shrinkView",d.CLASS_VIEW="infoplus_view",d.CLASS_MOBILE_VIEW="infoplus_mobile_view",d.CLASS_VIEW_WRAP_OUTER="infoplus_view_wrap_outer",d.CLASS_VIEW_WRAP_INNER="infoplus_view_wrap_inner",d.CLASS_UNEXPANDED="unexpanded",d.CLASS_INVISIBLE="invisible",d.CLASS_HIDE_FOR_SHRINK="hideShrink",d.SELECTOR_CLASS_VIEW_WRAP_OUTER="."+d.CLASS_VIEW_WRAP_OUTER,d.SELECTOR_CLASS_VIEW_WRAP_INNER="."+d.CLASS_VIEW_WRAP_INNER;d.prototype=$.extend(new InfoPlus.Layout.BaseView,{expanded:function(e,t){this.expanded=e,"none"!==$(this.label.getElement()).css("display")&&(e?this.label.expand():this.label.shrink())},addViewClass:function(){this.element.id=this.id,$(this.element).addClass(InfoPlus.Layout.View.CLASS_VIEW).data(InfoPlus.Layout.View.DATA_CONTROL_OBJECT,this),!0===this.render.mobile&&$(document.body).addClass(InfoPlus.Layout.View.CLASS_MOBILE_VIEW)},appendViewDom:function(){var e=document.createElement("div"),t=($(e).addClass(d.CLASS_VIEW_WRAP_INNER),$.browser.msie&&$(e).css("top","17px"),e.appendChild(this.element),document.createElement("div"));$(t).addClass(d.CLASS_VIEW_WRAP_OUTER),t.appendChild(e),this.holder.appendChild(t)},appendLabel:function(){null!=this.label&&null!=this.label.getElement()&&$(this.label.getElement()).insertBefore($(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER))},show:function(){$(this.element).show(),$(this.menuItem).show(),this.label.show(),$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_OUTER).removeClass(d.CLASS_INVISIBLE)},hide:function(){$(this.label.getElement()).hasClass("unexpanded")||($(this.element).hide(),$(this.menuItem).hide(),this.label.hide(),$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_OUTER).addClass(d.CLASS_INVISIBLE))},expand:function(e,t){function n(){$($$.params.renderContainer).children(a.SELECTOR_CLASS_TIP).each(function(){var e=$(this).data(a.DATA_TIP_CONTROL);null!=e&&$(e.element).data(d.DATA_HIDE_BY_SHRINK_VIEW)===i&&e.showByExpandView()})}function o(){for(var e=$("body").children("div.formError."+d.CLASS_HIDE_FOR_SHRINK),t=0;t<e.length;t++){var n,o=$(e[t]);o.data(d.DATA_HIDE_BY_SHRINK_VIEW)===i&&null!=(n=o.data("element"))&&(o.removeClass(d.CLASS_HIDE_FOR_SHRINK),n.validationEngine("updatePromptPosition",!1))}}var i=this,a=InfoPlus.Render.PopTip;e?($(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER).slideDown("slow",function(){o(),n(),$IU.updateFormTips(e),c(this)}),$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_OUTER).removeClass(d.CLASS_UNEXPANDED)):($(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER).show(),$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_OUTER).removeClass(d.CLASS_UNEXPANDED),o(),n(),!0!==t&&$IU.updateFormTips(e)),this.expanded=!0},shrink:function(e,t){for(var n=this,o=$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER),i=InfoPlus.Render.PopTip,a=$("body").children("div.formError"),s=0;s<a.length;s++){var l=$(a[s]),r=l.data("element");null!=r&&r.parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER)[0]===o[0]&&l.addClass(d.CLASS_HIDE_FOR_SHRINK).data(d.DATA_HIDE_BY_SHRINK_VIEW,n)}$($$.params.renderContainer).children(i.SELECTOR_CLASS_TIP).each(function(){var e,t=$(this).data(i.DATA_TIP_CONTROL);null!=t&&(e=t.options,$(e.popper).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER)[0]===o[0])&&t.hideByShrinkView(n)}),e?($(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER).slideUp("slow",function(){$IU.updateFormTips(e),c(this)}),$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_OUTER).addClass(d.CLASS_UNEXPANDED)):($(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_INNER).hide(),$(this.element).parents(d.SELECTOR_CLASS_VIEW_WRAP_OUTER).addClass(d.CLASS_UNEXPANDED),!0!==t&&$IU.updateFormTips(e)),this.expanded=!1}}),define("InfoPlus.Layout.View",d)}(window),function(){function a(e){InfoPlus.Theme.BaseComponent.call(this,e)}a.buttonPrefix="infoplus_action_"+Math.round(9e3*Math.random()+1e3)+"_",a.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e,t=this.options,n=document.createElement("li"),o=($(n).addClass("command_button"),!0===t.hide&&$(n).addClass("hide"),document.createElement("a")),i=(!0===$$.params.receiveThing&&null!=this.options.action&&!0===this.options.action.shortcut?(i=document.createElement("i"),$(i).addClass("i-icon-filter-center-focus").css("margin-right","3px"),o.appendChild(i)):void 0!==this.options.iconClass&&(e=document.createElement("div"),i=document.createElement("i"),$(i).addClass("i-icon-"+this.options.iconClass),$(e).addClass("icon-div").append(i),o.appendChild(e)),document.createElement("nobr"));return $(i).text(t.text),o.appendChild(i),$(o).addClass("command_button_content"),$$.MOBILE||""!==(t.tip||"")&&(e=document.createElement("span"),$(e).text(t.tip).addClass("toolbar_button_tip").addClass("round-corner").addClass("z-depth-1"),o.appendChild(e)),null!=t.textClass&&($(o).addClass(t.textClass),$(n).addClass(t.textClass)),o.id=o.name=a.buttonPrefix+t.id,n.appendChild(o),this.putActionInfo(n,t.action),n},putActionInfo:function(e,t){null!=t&&$(e).data("actionId",t.id).data("code",t.code).data("hideConfirmWhenNoNextStep",!!t.hideConfirmWhenNoNextStep).data("hidePrintPrompt",!!t.hidePrintPrompt).data("skipValidation",!!t.skipValidation).data("remarkRequired",!!t.remarkRequired).data("remarkRequiredTip",""===$IU.trimString(t.remarkRequiredTip||"")?$$.lt("submit.mustInputRemark2"):t.remarkRequiredTip).data("actionPrintable",!!t.printable).data("lastRemark","").data("description",t.description||"").data("skipMessage",t.skipMessage).data("inputBarCode",!0===$$.params.receiveThing&&!0===t.shortcut).data("transferTo",t.transferTo||"")},initEvents:function(){var e=this.options;null!=e.onClick&&"function"==typeof e.onClick&&$(this.element).on("click",e.onClick)}}),define("InfoPlus.Render.ActionButton",a)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{createHelper:function(e){var t=this,n=document.createElement("span"),o=(document.createElement("nobr"),$(n)),i=(o.html(e.message).addClass("toolbar_helper").addClass("right").addClass("round-corner").addClass("z-depth-1"),document.createElement("div")),a=(e.doAfterAction?$(i).css("text-align","right"):(a=document.createElement("a"),$(a).attr("href","#").text(e.doText),$(a).click(function(){return $IU.fireClick(e.command),!1}),i.appendChild(a)),document.createElement("a"));$(a).attr("href","#").text($$.lt("common.dismiss")),i.appendChild(a),n.appendChild(i),$(e.container).append(n);$(a).click(function(){return o.hide("fade",function(){o.remove(),$(t.element).parent().children("li.tool_button").children("a").removeClass("hide_tip")}),!1}),o.click(function(){return!1})},render:function(){var e=this.options,t=document.createElement("li"),n=$(t),o=document.createElement("a"),i=$(o),a=document.createElement("i");return $(a).addClass("i-icon-"+e.iconName),i.data("buttonControl",this).attr("id","FormCommand"+e.id).addClass("tool_button").attr("href","#").append(a),null!=e.tip&&(a=document.createElement("span"),$(a).addClass("toolbar_button_tip round-corner z-depth-1").html(e.tip),i.append(a)),n.addClass("tool_button").append(o),null!=e.helper&&(e.helper.command=o,e.helper.container=t,this.createHelper(e.helper)),null!=e.scrollTip&&n.append(e.scrollTip.getElement()),e.hide&&n.addClass("hide"),e.disabled&&i.addClass("disabled"),t},disable:function(){$(this.element).children("a").addClass("disabled"),this.options.disabled=!0},enable:function(){$(this.element).children("a").removeClass("disabled"),this.options.disabled=!1},show:function(){$(this.element).removeClass("hide").show()},hide:function(){$(this.element).addClass("hide").hide()},mark:function(){$(this.element).children("a").addClass("mark_red")},removeMark:function(){$(this.element).children("a").removeClass("mark_red")},setTip:function(e){$(this.element).children("a").children("span").html(e)},getVisibility:function(){return $(this.element).children("a").css("visibility")},initEvents:function(){var e=this.options;null!=e.onClick&&"function"==typeof e.onClick&&$(this.element).click(function(){return $(this).children("a").hasClass("disabled")||e.onClick.call(this),!1})}}),define("InfoPlus.Render.ToolButton",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.options,t=document.createElement("div"),n=$(t),o=(n.attr("id",e.id).addClass("title_icon"),document.createElement("i"));return!0===e.back?$(o).addClass("i-icon-arrow-back"):$(o).addClass("i-icon-menu"),n.append(o),t},initEvents:function(){var e=this.options;null!=e.onClick&&"function"==typeof e.onClick&&$(this.element).click(e.onClick)}}),define("InfoPlus.Render.TitleIcon",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.options,t=document.createElement("div"),n=$(t),o=document.createElement("nobr");return $(o).text(e.title),n.attr("id","title_content").append(o),t}}),define("InfoPlus.Render.TitleContent",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.options,t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div");return $(n).attr("id","title_description").html(e.full).hide(),$(o).attr("id","title_description_short").html(e.compact).hide(),$(t).append(n).append(o),t}}),define("InfoPlus.Render.TitleDescription",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{createMenuItem:function(e,t,n,o,i,a){var s=document.createElement("li"),l=document.createElement("span"),r=document.createElement("i"),d=document.createElement("span");return $(r).addClass("i-icon-"+(null==o?e:o)),$(l).addClass("menu_icon").addClass("menu_icon_"+e).append(r),$(d).addClass("menu_text").text(n),$(s).attr("id","nav_menu_"+(null==t?e:t)).append(l).append(d),a||null==i||"function"!=typeof i||$(s).click(i),$(this.menuGroup).append(s),!0===a&&$(l).addClass("disabled"),s},render:function(){var e=this.options,t=document.createElement("div"),n=$(t),o=(n.attr("id","nav_menu").css("display","none"),document.createElement("ul")),i=$(o),a=(this.menuGroup=o,i.addClass("nav_menu_group"),this.createMenuItem("history","history",$$.lt("common.history"),null,e.onHistoryClick),this.createMenuItem("save","save",$$.lt("common.save"),null,e.onSaveClick,!$$.params.saveable),this.createMenuItem("print","print",$$.lt("common.print"),null,e.onPrintClick,$$.params.adminView||!$$.params.printable),"cloud-download"),a=($$.params.exportSignature&&(a="signature-cloud-download"),this.createMenuItem("download","download",$$.lt("common.download"),a,e.onDownloadClick,$$.params.adminView||!$$.params.downloadable),$$.MOBILE||this.createMenuItem("recover","recover",$$.lt("tip.recoverTips"),"replay",e.onRecoverClick),this.createMenuItem("instruction","instruction",$$.lt("common.instruction"),"local-library",e.onInstructionClick,null==$$.params.instructionUrl),n.append(o),o=document.createElement("ul"),i=$(o),document.createElement("li"));return $(a).addClass("nav_menu_line"),i.addClass("nav_menu_group").append(a),n.append(o),o=document.createElement("ul"),(i=$(o)).addClass("nav_menu_group").append(this.createMenuItem("help","help",$$.lt("common.help"),null,e.onHelpClick)),n.append(o),t},disableUnusedMenuItem:function(){function e(e){var t=$("#"+$$.params.ids[e]);(0===t.length||t.hasClass("disabled")||t.parent().hasClass("hide"))&&n.find("#nav_menu_"+e).children("span").addClass("disabled")}var n=$(this.element);e("save"),e("print"),e("download"),!0===this.options.disableInstruction&&n.find("#nav_menu_instruction").children("span").addClass("disabled")}}),define("InfoPlus.Render.NavMenu",e)}(window),function(){function o(e){InfoPlus.Theme.BaseComponent.call(this,e)}o.menuPrefix="infoplus_command_menu_"+Math.round(9e3*Math.random()+1e3)+"_",o.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=document.createElement("li"),t=$(e),n=document.createElement("a"),o=$(n),i=document.createElement("ul"),a=$(i);return t.addClass("command_menu btn-group hide").attr("id","command_menu"),o.addClass("command_button_content dropdown-toggle command_button_all").attr("href","#").attr("data-toggle","dropdown").html($$.lt("command.all")+'... <span class="caret"></span>'),a.addClass("dropdown-menu").attr("id","command_menu_dropdown"),t.append(n).append(i),e},putActionInfo:function(e,t){null!=t&&$(e).data("actionId",t.id).data("code",t.code).data("skipValidation",!!t.skipValidation).data("remarkRequired",!!t.remarkRequired).data("remarkRequiredTip",""===$IU.trimString(t.remarkRequiredTip||"")?$$.lt("submit.mustInputRemark2"):t.remarkRequiredTip).data("actionPrintable",!!t.printable).data("lastRemark","").data("description",t.description||"").data("skipMessage",t.skipMessage).data("transferTo",t.transferTo||"")},addMenuItem:function(e){var t=document.createElement("li"),n=document.createElement("a");n.innerHTML=e.text,n.setAttribute("title",e.title),n.id=n.name=o.menuPrefix+e.name,t.appendChild(n),$(n).click(e.onClick),$(this.getElement()).children("ul").prepend(t),this.putActionInfo(n,e.action)}}),define("InfoPlus.Render.CommandMenu",o)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){}}),define("InfoPlus.Render.CommandBar",e)}(window),function(){function e(e){null!=e.dismissType&&(e.showDismiss=!0),InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var t,e,n,o,i,a,s,l,r,d=this.options;return!0===d.showDismiss&&null!=d.dismissType&&"true"===$IU.cookie.getCookie("noTip_"+d.dismissType)?null:(t=this,e=document.createElement("div"),n=$(e),null!=d.content&&n.append(d.content).addClass("commandBar_helper round-corner z-depth-1"),null!=d.color&&n.css("color",d.color),null!=d.backgroundColor&&n.css("background-color",d.backgroundColor),"top"===d.position&&n.addClass("top"),!0===d.showDismiss&&(a=0===$(d.content).find(".helper_link_div").length?document.createElement("div"):$(d.content).find(".helper_link_div")[0],o=$(a),i=document.createElement("a"),$(i).attr("href","#").text($$.lt("common.dismiss")),o.append(i).css("text-align","right"),n.append(a),$(i).click(function(){var e;return t.hide(),null!=d.dismissType&&null!=(e=$(this).data("checkbox"))&&e.checked&&$IU.cookie.setCookie("noTip_"+d.dismissType,!0,9999),!1}),null!=d.dismissType)&&(a=document.createElement("label"),(s=document.createElement("input")).type="checkbox",r=document.createTextNode($$.lt("tip.noMoreTip")),$(s).addClass("commandBar_helper_noMoreTipCheck"),$(a).append(s),$(a).append(r),o.append(a),$(i).data("checkbox",s)),l=0,$(".commandBar_helper").each(function(){var e=parseInt($(this).css("top"));l<e&&(l=e+$(this).outerHeight())}),0!==l&&n.css("top",l+10+"px"),null!=d.color&&n.css("color",d.color),null!=d.backgroundColor&&n.css("background-color",d.backgroundColor),!0===d.autoWidth?(r=document.createElement("div"),$(r).addClass("commandBar_helper_wrapDiv").append(e),n.css("width",d.width).addClass("autoWidth"),r):e)},hide:function(e){var t,n,o,i,a=$(this.element);"top"===this.options.position?!0!==e&&(0<(t=a).children(".commandBar_helper").length&&(t=a.children(".commandBar_helper")),null!=(n=$IU.getTransitionEndEventName()))?(0===parseInt(t.css("top"),10)?t.css("top","-"+(t.outerHeight()+10)+"px"):(t.css("top",""),t.removeClass("show")),t.one(n,function(){a.remove()})):a.remove():(o=a.outerHeight()+4,i=a.nextAll(".commandBar_helper."+this.options.position),!0===e?(a.remove(),i.each(function(){$(this).css("top",parseInt($(this).css("top"),0)-o)})):a.hide("fade",function(){a.remove(),i.each(function(){$(this).css("top",parseInt($(this).css("top"),0)-o)})}))},show:function(e){var t=$(this.element),n=(t.hasClass("commandBar_helper_wrapDiv")?e?t.children(".commandBar_helper").addClass("show").css("z-index","0").css("top","0"):t.children(".commandBar_helper").addClass("show"):e?t.addClass("show").css("z-index","0").css("top","0"):t.addClass("show"),this);!0===this.options.autoClose&&setTimeout(function(){n.hide()},2e3)}}),define("InfoPlus.Render.CommandBarHelper",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){}}),define("InfoPlus.Render.TitleBar",e)}(window),function(n){function o(e){InfoPlus.Theme.BaseComponent.call(this,e)}o.eventRegistered=!1,o.lastScrollTop=0,o.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.options,t=document.createElement("span");return $(t).addClass("alpha40 scroll_tip").addClass(e.left?"left":"right").text(e.text).hide(),t},initEvents:function(){var e,t;o.eventRegistered||(o.eventRegistered=!0,e=$("#"+this.options.toolbarId),t=function(){$(".scroll_tip").filter(":visible").fadeOut(500)},$(n).scroll(function(){var e=$(document).scrollTop();o.lastScrollTop<e&&$(document).height()-($(n).height()+e)<10&&($(".scroll_tip.left").not(":visible").each(function(){$(this).parent().is(":visible")&&$(this).show()}),$(".scroll_tip.right").not(":visible").each(function(){$(this).prev().hasClass("disabled")||$(this).show()}),setTimeout(t,3e3)),o.lastScrollTop=e}),e.on("mouseenter","li.command_button,li.command_menu",function(){$(".scroll_tip.left").filter(":visible").fadeOut(500)}),e.on("mouseenter","li.tool_button",function(){$(".scroll_tip.right").filter(":visible").fadeOut(500)}))}}),define("InfoPlus.Render.ScrollTip",o)}(window),function(c){function s(e){null!=e&&(this.id=Math.round(1e6*Math.random()),InfoPlus.Theme.BaseComponent.call(this,e))}s.DATA_PAGE_OBJECT="pageObject",s.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{id:null,scrollTop:0,transitionEndEventName:null,render:function(){var e=this.createPage();return this.element=e,this.initOptions(),this.createButtons(),e},initEvents:function(){var e=this;$(this.returnButton).one("click",function(){return e.close(),!1})},initOptions:function(){var e,t=this.options,n=$(this.element),o=(null!=t.onShow&&"function"==typeof t.onShow&&n.data("onShowCallback",t.onShow),null!=t.onClose&&"function"==typeof t.onClose&&n.data("onCloseCallback",t.onClose),!0===t.isDoAction?n.removeClass("hideLeft"):n.addClass("hideLeft"),t.content),i=t.title,i=(null!=i&&""!==i&&n.find(".mobile_page_title_content_div").text(i),n.find(".mobile_page_content_div")),a=(n.find(".mobile_page_content_wrap_div"),n.find(".mobile_page_content_inner_div")),n=n.find(".mobile_page_footer_div");null!=t.uri?(n.addClass("hide"),i.addClass("full"),(e=document.createElement("iframe")).src=t.uri,e.setAttribute("width","100%"),e.setAttribute("height","100%"),$(e).css("border","none"),a.append(e)):(n.removeClass("hide"),i.removeClass("full"),o instanceof jQuery?(o.detach().appendTo(a),o.is(":visible")||o.show()):a.html(o))},createPage:function(){var e=document.createElement("div"),t=$(e),n=(t.attr("id","page_container_"+this.id).addClass("mobile_page_div").css("z-index","-1"),document.createElement("div")),o=($(n).addClass("mobile_page_title_div"),document.createElement("div")),i=($(o).addClass("mobile_page_title_content_div"),!0==!this.options.omitReturn&&(a=document.createElement("span"),$(a).addClass("mobile_page_return_span"),this.returnButton=a,(i=document.createElement("i")).setAttribute("class","i-icon-arrow-back"),a.appendChild(i),n.appendChild(a)),n.appendChild(o),document.createElement("div")),a=document.createElement("div"),o=document.createElement("div"),o=($(i).addClass("mobile_page_content_div"),$(a).addClass("mobile_page_content_wrap_div"),$(o).addClass("mobile_page_content_inner_div"),a.appendChild(o),i.appendChild(a),document.createElement("div"));return $(o).addClass("mobile_page_footer_div"),t.append(n).append(i).append(o),$(e).data(s.DATA_PAGE_OBJECT,this),!0===this.options.isDoAction||!0===this.options.appendToBody?document.body.appendChild(e):$("#renderForm").append(e),e},createButtons:function(){var e=this.options.buttons,t=$(this.element),n=t.find(".mobile_page_footer_div"),o=this;e===c?e=[{name:$$.lt("common.ok")}]:$IU.isArray(e)?0===e.length&&(e=[{name:$$.lt("common.ok")}]):e=[e];for(var i=0,a=e.length;i<a;i++){var s=e[i],l=document.createElement("span"),r=$(l),d=(r.addClass("mobile_page_button").text(s.name!==c?s.name:$$.lt("common.ok")),!0!==s.defaultButton&&1!==a||(r.addClass("default"),0),s.className!==c&&r.addClass(s.className),!0===s.callOnClose&&null!=s.callback&&"function"==typeof s.callback&&t.data("callback",s.callback),r.data("button",s),n.append(l),r.addClass("fr"),function(){var e,t=$(this).data("button"),n=t.callback;return!0===t.preventDefault?!(e=!0)!==(e=null!=n&&"function"==typeof n?n():e)?o.close():$(this).one("click",d):(!0==!t.callOnClose&&null!=n&&"function"==typeof n&&n(),o.close()),!1});$(l).one("click",d)}},changeButton:function(e,t){var n=$(this.element).find(".mobile_page_footer_div").children(".mobile_page_button");n.length>e&&(n=$(n[e]),null!=t.name)&&n.text(t.name)},clearContent:function(){$(this.element).find(".mobile_page_title_content_div").empty(),$(this.element).find(".mobile_page_content_inner_div").empty(),$(this.element).find(".mobile_page_footer_div").empty()},getTransitionEndEventName:function(){if(null!=this.transitionEndEventName)return this.transitionEndEventName;var e,t=document.createElement("fake"),n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&t.style[e]!==c)return this.transitionEndEventName=n[e],n[e];return null},show:function(){var e,t,n,o=!0===this.options.isDoAction?$("#div_render_container"):$("#div_content"),i=$(this.element),a=$("#header_holder");this.isOpen()||(e=$(document).scrollTop(),this.scrollTop=e,!0===this.options.isDoAction&&((t=$("#title_content").height())<e?a.css("position","absolute").css("top",e-t+"px"):a.css("position","absolute").css("top","0")),o.removeClass("show").addClass("hide"),n=this.getTransitionEndEventName(),setTimeout(function(){function e(){var e=i.data("onShowCallback");null!=e&&"function"==typeof e&&e(),$(document.body).addClass("noScroll"),i.data("onShowCallback",null)}null!=n?(i.one(n,e),i.css("z-index","10").addClass("display")):(i.css("z-index","10").addClass("display"),e())},0))},close:function(){function e(){var e,t;n.removeClass("show"),!0===s.options.isDoAction&&(t=(t=$(document).scrollTop())<(e=$("#title_content").height())?-t:-e,i.css("position","").css("top",t+"px"))}function t(){o.css("z-index","-1");var e=o.data("callback");null!=e&&"function"==typeof e&&e(),null!=(e=o.data("onCloseCallback"))&&"function"==typeof e&&e(),o.remove()}var n=!0===this.options.isDoAction?$("#div_render_container"):$("#div_content"),o=$(this.element),i=$("#header_holder"),a=($IU.clearErrorPrompt(o),$(document.body).removeClass("noScroll"),$(document).scrollTop(this.scrollTop),o.removeClass("display"),!0!==this.options.isDoAction&&o.addClass("hideLeft"),n.removeClass("hide").addClass("show"),this.getTransitionEndEventName()),s=this;null!=a?(n.one(a,e),o.one(a,t)):(e(),t()),$(this.returnButton).off("click")},isOpen:function(){return $(this.element).hasClass("display")}}),define("InfoPlus.Render.Mobile.Page",s)}(void window),function(a,c){function e(e){null!=e&&(this.id=Math.round(1e6*Math.random()),InfoPlus.Theme.BaseComponent.call(this,e))}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{id:null,scrollTop:0,transitionEndEventName:null,render:function(){return this.element=this.createPage(),this.initOptions(),this.createButtons(),this.initOverlayEvents(),this.element},initOverlayEvents:function(){var t=this,e=this.element,n=null,o=$(this.element).find(".bottom_sheet_content_div")[0],i=(e.addEventListener("touchstart",function(e){1===e.targetTouches.length&&("bottom_sheet_overlay"===e.targetTouches[0].target.className&&(e.preventDefault(),setTimeout(function(){t.close()},0)),n=e.targetTouches[0].clientY)},!1),e.addEventListener("touchmove",function(e){1===e.targetTouches.length&&i(e)},!1),function(e){var t=e.targetTouches[0].clientY-n;0===o.scrollTop&&0<t&&e.preventDefault(),a()&&t<0&&e.preventDefault()}),a=function(){return o.scrollHeight-o.scrollTop<=o.clientHeight}},initOptions:function(){var e=this.options,t=$(this.element),t=(null!=e.onShow&&"function"==typeof e.onShow&&t.data("onShowCallback",e.onShow),null!=e.onClose&&"function"==typeof e.onClose&&t.data("onCloseCallback",e.onClose),t.find(".bottom_sheet_content_inner_div")),e=e.content;e instanceof jQuery?(e.detach().appendTo(t),e.is(":visible")||e.show()):t.html(e)},createPage:function(){var e=document.createElement("div"),t=$(e),n=document.createElement("div"),o=$(n),t=(t.addClass("bottom_sheet_overlay").append(n),o.attr("id","bottom_sheet_container_"+this.id).addClass("bottom_sheet_container_div"),document.createElement("div")),n=document.createElement("div"),i=document.createElement("div"),n=($(t).addClass("bottom_sheet_content_div").addClass("z-depth-1"),$(n).addClass("bottom_sheet_content_wrap_div"),$(i).addClass("bottom_sheet_content_inner_div"),n.appendChild(i),t.appendChild(n),o.append(t),this.options.buttons);return n!==c&&0<n.length?(n=document.createElement("div"),$(n).addClass("bottom_sheet_footer_div"),o.append(n)):$(t).addClass("full"),$(i).css("max-height",Math.round(.65*$(a).height())+"px").css("min-height",Math.round(.4*$(a).height())+"px"),document.body.appendChild(e),e},createButtons:function(){var e=this.options.buttons,t=$(this.element),n=t.find(".bottom_sheet_footer_div"),o=this;e===c?e=[]:$IU.isArray(e)||(e=[e]);for(var i=0,a=e.length;i<a;i++){var s=e[i],l=document.createElement("span"),r=$(l),d=(r.addClass("mobile_page_button").text(s.name!==c?s.name:$$.lt("common.ok")),!0!==s.defaultButton&&1!==a||(r.addClass("default"),0),!0===s.callOnClose&&null!=s.callback&&"function"==typeof s.callback&&t.data("callback",s.callback),r.data("button",s),n.append(l),r.addClass("fr"),function(){var e,t=$(this).data("button"),n=t.callback;return!0===t.preventDefault?!(e=!0)!==(e=null!=n&&"function"==typeof n?n():e)?o.close():$(this).one("click",d):(!0==!t.callOnClose&&null!=n&&"function"==typeof n&&n(),o.close()),!1});$(l).one("click",d)}},clearContent:function(){$(this.element).find(".bottom_sheet_content_inner_div").empty(),$(this.element).find(".bottom_sheet_footer_div").empty()},getTransitionEndEventName:function(){if(null!=this.transitionEndEventName)return this.transitionEndEventName;var e,t=document.createElement("fake"),n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&t.style[e]!==c)return this.transitionEndEventName=n[e],n[e];return null},animateHide:function(e,t){var n=$(this.element),o=n.find(".bottom_sheet_container_div");n.data("oldPosition",{left:o.css("left"),bottom:o.css("bottom"),width:o.width(),height:o.height()}),$(document.body).removeClass("noScrollSheet"),o.addClass("animate"),o.animate(e,200,function(){o.removeClass("animate"),n.hide(),null!=t&&"function"==typeof t&&t()})},animateShow:function(e){var t=$(this.element),n=t.find(".bottom_sheet_container_div");$(document.body).addClass("noScrollSheet"),t.show(),n.addClass("animate"),n.animate(t.data("oldPosition"),200,function(){n.removeClass("animate"),n.css("width","").css("height","").css("left","").css("bottom","").css("overflow",""),null!=e&&"function"==typeof e&&e()})},show:function(){var i=this;setTimeout(function(){function e(){var e=t.data("onShowCallback");null!=e&&"function"==typeof e&&e(),$(document.body).addClass("noScrollSheet"),t.data("onShowCallback",null)}var t=$(i.element),n=t.find(".bottom_sheet_container_div"),o=(n.addClass("show"),i.getTransitionEndEventName());null!=o?n.one(o,e):e()},100)},close:function(t){function e(){var e=n.data("callback");null!=e&&"function"==typeof e&&e(),null!=(e=n.data("onCloseCallback"))&&"function"==typeof e&&e(),null!=t&&"function"==typeof t&&t(),setTimeout(function(){n.remove()},0)}var n=$(this.element),o=($(document.body).removeClass("noScrollSheet"),n.find(".bottom_sheet_container_div")),i=(o.removeClass("show"),this.getTransitionEndEventName());null!=i?o.one(i,e):e()},appear:function(){$(document.body).addClass("noScrollSheet"),$(this.element).show()},hide:function(){$(document.body).removeClass("noScrollSheet"),$(this.element).hide()}}),define("InfoPlus.Render.Mobile.BottomSheet",e)}(window),function(a){function e(e){null!=e&&(this.id=Math.round(1e6*Math.random()),InfoPlus.Theme.BaseComponent.call(this,e))}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{id:null,scrollTop:0,transitionEndEventName:null,render:function(){return this.element=this.createPage(),this.initOptions(),this.initOverlayEvents(),this.element},initOverlayEvents:function(){var t=this,e=this.element,n=null,o=$(this.element).find(".sheet_content_div")[0],i=(e.addEventListener("touchstart",function(e){1===e.targetTouches.length&&("sheet_overlay"===e.targetTouches[0].target.className&&(e.preventDefault(),setTimeout(function(){t.close()},0)),n=e.targetTouches[0].clientY)},!1),e.addEventListener("touchmove",function(e){1===e.targetTouches.length&&i(e)},!1),function(e){var t=e.targetTouches[0].clientY-n;0===o.scrollTop&&0<t&&e.preventDefault(),a()&&t<0&&e.preventDefault()}),a=function(){return o.scrollHeight-o.scrollTop<=o.clientHeight}},initOptions:function(){var e=this.options,t=$(this.element),n=t.find(".sheet_container_div"),o=n.find(".sheet_content_div"),n=(e.side=e.side||"left","left"!==e.side&&(e.side="right"),n.addClass(e.side),e.padding=!1!==e.padding,e.padding||o.addClass("no_padding"),null!=e.onShow&&"function"==typeof e.onShow&&t.data("onShowCallback",e.onShow),null!=e.onClose&&"function"==typeof e.onClose&&t.data("onCloseCallback",e.onClose),t.find(".sheet_content_inner_div")),o=e.content;o instanceof jQuery?(o.detach().appendTo(n),o.is(":visible")||o.show()):n.html(o)},createPage:function(){var e=document.createElement("div"),t=$(e),n=document.createElement("div"),o=$(n),t=(t.addClass("sheet_overlay").append(n),o.attr("id","sheet_container_"+this.id).addClass("sheet_container_div"),document.createElement("div")),n=document.createElement("div"),i=document.createElement("div");return $(t).addClass("sheet_content_div").addClass("z-depth-1"),$(n).addClass("sheet_content_wrap_div"),$(i).addClass("sheet_content_inner_div"),n.appendChild(i),t.appendChild(n),o.append(t),$(i).css("max-width",Math.round(.55*$(a).width())+"px").css("min-width",Math.round(.45*$(a).width())+"px"),document.body.appendChild(e),e},clearContent:function(){$(this.element).find(".sheet_content_inner_div").empty(),$(this.element).find(".sheet_footer_div").empty()},getTransitionEndEventName:function(){if(null!=this.transitionEndEventName)return this.transitionEndEventName;var e,t=document.createElement("fake"),n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e])return this.transitionEndEventName=n[e],n[e];return null},animateHide:function(e,t){var n=$(this.element),o=n.find(".sheet_container_div");n.data("oldPosition",{left:o.css("left"),bottom:o.css("bottom"),width:o.width(),height:o.height()}),$(document.body).removeClass("noScrollSheet"),o.addClass("animate"),o.animate(e,200,function(){o.removeClass("animate"),n.hide(),null!=t&&"function"==typeof t&&t()})},animateShow:function(e){var t=$(this.element),n=t.find(".sheet_container_div");$(document.body).addClass("noScrollSheet"),t.show(),n.addClass("animate"),n.animate(t.data("oldPosition"),200,function(){n.removeClass("animate"),n.css("width","").css("height","").css("left","").css("bottom","").css("overflow",""),null!=e&&"function"==typeof e&&e()})},show:function(){var i=this;setTimeout(function(){function e(){var e=t.data("onShowCallback");null!=e&&"function"==typeof e&&e(),$(document.body).addClass("noScrollSheet"),t.data("onShowCallback",null)}var t=$(i.element),n=t.find(".sheet_container_div"),o=(n.addClass("show"),i.getTransitionEndEventName());null!=o?n.one(o,e):e()},100)},close:function(t){function e(){var e=n.data("onCloseCallback");null!=e&&"function"==typeof e&&e(),null!=t&&"function"==typeof t&&t(),setTimeout(function(){n.remove()},0)}var n=$(this.element),o=($(document.body).removeClass("noScrollSheet"),n.find(".sheet_container_div")),i=(o.removeClass("show"),this.getTransitionEndEventName());null!=i?o.one(i,e):e()},appear:function(){$(document.body).addClass("noScrollSheet"),$(this.element).show()},hide:function(){$(document.body).removeClass("noScrollSheet"),$(this.element).hide()}}),define("InfoPlus.Render.Mobile.Sheet",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){return null},initEvents:function(){}}),define("InfoPlus.Render.FloatTool",e)}(window),function(){function a(e){this.view=e.view,InfoPlus.Theme.BaseComponent.call(this,e)}a.STATUS_EXPANDED="expanded",a.ICON_CLASS_EXPANDED="i-icon-angle-double-up",a.ICON_CLASS_UNEXPANDED="i-icon-angle-double-down",a.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.view,t=document.createElement("div"),n=(document.createElement("hr"),document.createElement("div")),o=$(t),i=document.createElement("i");return o.attr("id",e.prefix+"label_"+e.index),o.addClass("infoplus_view_label"),o.data(InfoPlus.Layout.View.DATA_CONTROL_OBJECT,e).data("label",this),o.append(i).append(n),$(n).text(e.name).addClass("label_text"),$(i).addClass(a.ICON_CLASS_EXPANDED),o.data(a.STATUS_EXPANDED,!0),t},expand:function(e){var t=$(this.element);t.removeClass("unexpanded"),t.children("i").attr("class",a.ICON_CLASS_EXPANDED),this.view.expand(e),t.data(a.STATUS_EXPANDED,!0)},shrink:function(e){var t=$(this.element);t.addClass("unexpanded"),t.children("i").attr("class",a.ICON_CLASS_UNEXPANDED),this.view.shrink(e),t.data(a.STATUS_EXPANDED,!1)},isExpanded:function(){return!0===$(this.element).data(a.STATUS_EXPANDED)},toggle:function(){this.isExpanded()?this.shrink(!0):this.expand(!0)},initEvents:function(){$(this.element).click(function(){var e=$(this).data("label");null!=e&&e.toggle()})}}),define("InfoPlus.Render.ViewLabel",a)}(window),function(){function p(e){InfoPlus.Theme.BaseComponent.call(this,e)}p.showEffectFlag=!1,p.effectObject={},p.DEFAULT_PRIMARY_PLACEMENT="top",p.DEFAULT_SECONDARY_PLACEMENT="left",p.DEFAULT_CONTAINER_ID="render_holder",p.MIN_MAX_WIDTH=200,p.DATA_TIP="popTip",p.DATA_TIP_CONTROL="tipControl",p.DATA_HIDE_BY_SHRINK_VIEW="shrinkView",p.CLASS_TIP="popTip",p.CLASS_HIDE_FOR_SHRINK="hideShrink",p.SELECTOR_CLASS_TIP="."+p.CLASS_TIP,p.clear=function(t,n){$(".popTip").each(function(){var e=$(this).data(p.DATA_TIP_CONTROL);null==e||!0===e.options.unclearable&&!0!==n||e.close(t)})},p.fixPosition=function(t){$(".popTip").each(function(){var e=$(this).data(p.DATA_TIP_CONTROL);null!=e&&e.fixPosition(t)})},p.showEffect=function(){for(var e in p.effectObject)if(p.effectObject.hasOwnProperty(e))for(var t=p.effectObject[e],n=0,o=t.length;n<o;n++)$(t[n]).effect(e,{},150);p.showEffectFlag=!1,p.effectObject={}},p.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{getPlacement:function(){var e=this.options,t=this.options.placement.split("-");0===t.length?(e.primaryPlacement=p.DEFAULT_PRIMARY_PLACEMENT,e.secondaryPlacement=p.DEFAULT_SECONDARY_PLACEMENT):(e.primaryPlacement=t[0],1===t.length?e.secondaryPlacement=p.DEFAULT_SECONDARY_PLACEMENT:e.secondaryPlacement=t[1])},fixPosition:function(e){var t=$(this.element);this.setPosition()&&!this.isHideByShrinkView()&&!1!==e&&null!=(e=$$.getTransitionEndEventName())&&(t.addClass("fixPosition"),t.one(e,function(){t.removeClass("fixPosition")}))},setPosition:function(e,t){function n(e,t){s&&(l=parseInt(o.css(e),10)!==t)}var o,i,a,s=null==e,l=!1,r=this.options,d=$(r.popper),c=d.offset(),u=$(r.container),m=u.offset();if(d.is(":visible")||this.isHideByShrinkView())return e=null==e?this.element:e,o=$(e),e=null==t?$(e).children(".arrow"):$(t),"bottom"!==r.primaryPlacement&&"top"!==r.primaryPlacement||("right"===r.secondaryPlacement?(e.css("right","6px"),n("right",t=u.outerWidth()-(c.left-m.left+d.outerWidth())),o.css("right",t+"px")):(e.css("left","6px"),n("left",t=c.left-m.left),o.css("left",t+"px")),"bottom"===r.placement?(null!=r.backgroundColor&&e.css("border-bottom-color",r.backgroundColor),n("top",i=c.top-m.top+d.outerHeight()+4),o.css("top",i+"px").css("bottom","")):(null!=r.backgroundColor&&e.css("border-top-color",r.backgroundColor),"bottom"===r.location?(n("bottom",t=u.height()-(c.top-m.top)+4),o.css("bottom",t+"px").css("margin-bottom","0").css("top","")):0===o.height()?(o.css("top","-1000px"),a=setInterval(function(){0!==o.height()&&(i=$(r.popper).offset().top-u.offset().top-o.outerHeight()-4,o.css("top",i+"px").css("bottom",""),clearInterval(a))},100)):(n("top",i=c.top-m.top-o.outerHeight()-4),o.css("top",i+"px").css("bottom","")))),"left"!==r.primaryPlacement&&r.primaryPlacement,s?l:void 0;this.close(!0)},showByExpandView:function(){$(this.element).removeClass(p.CLASS_HIDE_FOR_SHRINK).removeData(p.DATA_HIDE_BY_SHRINK_VIEW),this.setPosition()},hideByShrinkView:function(e){$(this.element).addClass(p.CLASS_HIDE_FOR_SHRINK).data(p.DATA_HIDE_BY_SHRINK_VIEW,e)},isHideByShrinkView:function(){return $(this.element).hasClass(p.CLASS_HIDE_FOR_SHRINK)},render:function(){var e=this,t=this.options;if(null==t.popper||!$(t.popper).is(":visible"))return null;null==t.container&&(t.container=$$.params.renderContainer[0]),this.getPlacement();var n,o,i=$(t.popper),a=$(t.container),s=document.createElement("div"),l=$(s),r=document.createElement("i"),d=$(r),c=document.createElement("div"),u=$(c),m=(l.addClass(p.CLASS_TIP).attr("x-placement",t.primaryPlacement),d.addClass("i-icon-more-horiz content_minimized").hide(),null==t.content?(d=document.createElement("div"),$(d).html($IU.htmlEncode(t.text)).addClass("tipText"),l.append(d)):(d=document.createElement("div"),n=$(d),o=t.content,n.addClass("popTip_content"),o instanceof jQuery?(o.detach().appendTo(n),o.is(":visible")||o.show()):n.html(o),l.append(d).addClass("content")),t.showCloseButton&&(n=document.createElement("i"),$(n).addClass("i-icon-close2 infoplus_popTip_close").click(function(){e.close()}),l.append(n).css("padding-right","18px")),null!=t.colorClass&&l.addClass(t.colorClass),null!=t.backgroundColor&&l.css("background-color",t.backgroundColor),null!=t.color&&l.css("color",t.color),u.addClass("arrow"),this.setPosition(s,c),l.append(r).append(c),a.append(s),l.data(p.DATA_TIP_CONTROL,this),null==t.hoverText||"bottom"!==t.primaryPlacement&&"top"!==t.primaryPlacement||(o="left"===t.secondaryPlacement?a.outerWidth()-parseInt(l.css("left"),10):a.outerWidth()-parseInt(l.css("right"),10),p.MIN_MAX_WIDTH<o?l.css("max-width",o+"px"):l.css("max-width",p.MIN_MAX_WIDTH+"px")),0);return i.parents().each(function(){var e=parseInt($(this).css("z-index"),10);!isNaN(e)&&m<e&&(m=e)}),0!==m&&l.css("z-index",m),null!=t.effect&&(!1===p.showEffectFlag&&(p.showEffectFlag=!0,setTimeout(function(){p.showEffect()},500)),(d=null==(d=p.effectObject[t.effect])?p.effectObject[t.effect]=[]:d).push(s)),i.data(p.DATA_TIP,this).data("remark",t.text),s},close:function(e){$(this.options.popper).removeData(p.DATA_TIP);var t=this.options.onClose;!0===e&&($(this.element).remove(),"function"==typeof t)&&t(),$(this.element).hide("fade",function(){$(this).remove(),"function"==typeof t&&t()})},minimize:function(e){function t(){m(),u(),null!=e&&"function"==typeof e&&e()}var n=this,o=this.options,i=$(this.element),a=$(this.element).find(".popTip_content"),s=$(this.element).find(".content_minimized"),l=a.width(),r=a.height(),d=o.location,c="bottom"!==d,u=function(){c&&(o.location=d,n.setPosition())},m=function(){i.addClass("minimized"),s.show(),a.hide()};c&&(o.location="bottom",n.setPosition()),a.css("width",l+"px").css("height",r+"px").addClass("min").data("oldWidth",l).data("oldHeight",r),setTimeout(function(){a.css("width","0").css("height","5px");var e=$$.getTransitionEndEventName();null!=e?a.one(e,t):t()},0)},maximize:function(e){function t(){a.removeClass("min"),a.css("width","").css("height",""),null!=o.onMaximized&&"function"==typeof o.onMaximized&&o.onMaximized(),u(),null!=e&&"function"==typeof e&&e()}var n=this,o=this.options,i=$(this.element),a=$(this.element).find(".popTip_content"),s=i.find(".content_minimized"),l=a.data("oldWidth"),r=a.data("oldHeight"),d=o.location,c="bottom"!==d,u=function(){c&&(o.location=d,n.setPosition())};c&&(o.location="bottom",n.setPosition()),i.removeClass("minimized"),s.hide(),a.show(),setTimeout(function(){a.css("width",l+"px").css("height",r+"px");var e=$$.getTransitionEndEventName();null!=e?a.one(e,t):t()},0)},changeContent:function(e){$(this.element).children(".popTip_content").html(e),this.setPosition()},initEvents:function(){var e,n=this,o=this.options,i=$(this.element),t=($(this.element).find(".popTip_content"),i.find(".content_minimized"));null==o.content&&(e=function(){var e,t;!0!==i.data("showHover")&&(i.children(".tipText").text(o.hoverText).addClass("hoverText"),e=document.createElement("i"),$(e).addClass("i-icon-close2 infoplus_popTip_close").click(function(){n.close()}),i.append(e),i.data("showHover",!0),t=0,i.siblings(".popTip").each(function(){var e=parseInt($(this).css("z-index"),10);!isNaN(e)&&t<e&&(t=e)}),i.css("z-index",t+1))},i.hover(function(){null!=o.hoverText&&e()}),i.click(function(){"function"==typeof o.onClick?!0===o.onClick()&&n.close():null==o.hoverText||!0===i.data("showHover")?n.close():e()})),t.click(function(){n.maximize()}),i.on("mouseenter",function(){var e=i.css("z-index");null!=e&&(i.data("oldZindex",e),"auto"===e?i.css("z-index",1):i.css("z-index",parseInt(e,10)+1)),null!=o.onMouseEnter&&"function"==typeof o.onMouseEnter&&o.onMouseEnter()}),i.on("mouseleave",function(){null!=i.data("oldZindex")&&i.css("z-index",i.data("oldZindex"))})}}),define("InfoPlus.Render.PopTip",p)}(window),function(l){function e(e){this.id=$$.guid(),InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{show:function(){var e=this.options;null!=e.items&&"function"==typeof e.items?0<(e=e.items.call(this)).length&&(this.createMenuItem(e),$(this.element).show()):$(this.element).show()},createMenuItem:function(e){var t=this.options,i=this,a=$(this.element),n=a.children("ul");n.empty(),!0===t.horizontalMenuItem&&n.addClass("horz");for(var o=0,s=e.length;o<s;o++){var l,r=e[o],d=document.createElement("li"),c=$(d),u=(c.attr("id",this.id+"_"+r.id).addClass("infoplus_popMenuItem"),!0===t.horizontalMenuItem&&c.addClass("horz"),document.createElement("span")),m=document.createElement("i"),m=($(m).addClass(r.iconClass),$(u).append(m).addClass("infoplus_popMenuItemIcon"),null!=r.iconCss&&$(u).attr("style",r.iconCss),document.createElement("span"));$(m).text(r.text).addClass("infoplus_popMenuItemText"),!0===r.link?(l=document.createElement("a"),$(l).append(u).append(m).attr("id",this.id+"_"+r.id+"_link").attr("href","#").attr("target","_blank"),c.append(l)):c.append(u).append(m),n.append(d),!1===r.initVisible&&c.hide(),null!=r.click&&"function"==typeof r.click&&c.click(function(o){return function(){if(i.hide(),null!=o.switchItems){a.find(".infoplus_popMenuItem").hide();for(var e=0,t=o.switchItems.length;e<t;e++){var n=i.id+"_"+o.switchItems[e];a.find("#"+n).show()}}return o.click()}}(r))}},showMenuItem:function(e){for(var t,n=this.options.items,o=0,i=n.length;o<i;o++)if(n[o].id===e)return void((t=$(this.element).find("#"+this.id+"_"+e)).hasClass("horz")?t.css("display","inline-block"):t.show())},hideMenuItem:function(e){for(var t=this.options.items,n=0,o=t.length;n<o;n++)if(t[n].id===e)return void $(this.element).find("#"+this.id+"_"+e).hide()},setMenuItemText:function(e,t){for(var n=this.options.items,o=0,i=n.length;o<i;o++)if(n[o].id===e)return void $(this.element).find("#"+this.id+"_"+e+" .infoplus_popMenuItemText").text(t)},render:function(){var e=this.options;if(null==e.container)return null;var t=document.createElement("div"),n=$(t),o=document.createElement("ul"),o=(n.attr("id",this.id).addClass("infoplus_popMenu").append(o),e.items);if(this.element=t,this.createMenuItem(o),null!=e.position)for(var i=e.position.split("-"),a=0,s=i.length;a<s;a++)n.addClass(i[a]);return $$.MOBILE&&$(e.container).offset().left>$(l).width()/2&&n.addClass("right").removeClass("left"),$(e.container).append(t),!0==!e.initVisible&&n.hide(),t},showMenuItems:function(e){var t=$(this.element);t.find(".infoplus_popMenuItem").hide();for(var n=0,o=e.length;n<o;n++){var i=this.id+"_"+e[n];t.find("#"+i).show()}},initEvents:function(){var e=this,t=this.options;$$.MOBILE&&$(t.container).on("touchstart",function(){e.show()}),$(t.container).on("mouseenter",function(){e.show()}),$(t.container).on("mouseleave",function(){e.hide()})}}),define("InfoPlus.Render.PopMenu",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{setPosition:function(e){var t,n=this.options,o=$(n.popper),i=o.offset(),n=$(n.container).offset();o.is(":visible")?(e=null==e?this.element:e,e=$(e),t=i.left-n.left,e.css("left",t+"px"),t=i.top-n.top+o.outerHeight()+2,e.css("top",t+"px")):this.close()},render:function(){var e=this.options;if(null==e.popper||!$(e.popper).is(":visible"))return null;null==e.container&&(e.container=$$.params.renderContainer[0]);var t=$(e.popper),n=$(e.container),o=document.createElement("div"),i=$(o),a=(i.addClass("popWin").attr("id",$$.guid()),document.createElement("div")),s=$(a),e=e.content,l=(s.addClass("popWin_content"),e instanceof jQuery?(e.detach().appendTo(s),e.is(":visible")||e.show()):s.html(e),i.append(a),this.setPosition(o),n.append(o),0);return t.parents().each(function(){var e=parseInt($(this).css("z-index"),10);!isNaN(e)&&l<e&&(l=e)}),0!==l&&i.css("z-index",l),t.data("popWin",this),i.data("popWin",this),o},show:function(){this.isOpen()||$(this.element).addClass("popWin_open")},close:function(){$(this.options.popper).removeData("popWin"),$(this.element).remove(),this.detachCloseHandler()},isOpen:function(){return $(this.element).hasClass("popWin_open")},changeContent:function(e){$(this.element).children(".popWin_content").html(e),this.setPosition()},initEvents:function(){this.attachCloseHandler()},attachCloseHandler:function(){var e=$(this.element).attr("id");$(document.body).on("mousedown.popWin."+e,function(e){var t=$(e.target).closest(".popWin");$(".popWin.popWin_open").each(function(){var e=$(this);this!==t[0]&&(e=e.data("popWin")).isOpen()&&e.close()})})},detachCloseHandler:function(){$(document.body).off("mousedown.popWin."+$(this.element).attr("id"))}}),define("InfoPlus.Render.PopWin",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=document.createElement("div"),t=$(e),n=(t.attr("id","master_footer"),document.createElement("div")),o=$(n),i=(o.append($('<div style="height:1px;background-color:#999999"></div><div style="height:1px;background-color:#FFFFFF"></div>')).attr("id","div_footer_copy_containers"),document.createElement("div"));return $(i).html($$.params.copyright).attr("id","div_footer_copy_content"),o.append(i),t.append(n),e}}),define("InfoPlus.Render.Footer",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}var n=27;e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{requestFlag:null,lastRequestKeyword:null,requestData:function(){var d=this.options,e='"'+$(this.searchInput).val()+'"',e=d.requestData.replace("?",e),c=$(this.resultList),u=(this.lastRequestKeyword=$(this.searchInput).val(),c.empty(),document.createElement("li")),m=$(u);m.text($$.lt("candidates.searching")),c.append(u),$.ajax({type:"POST",url:d.requestUrl,contentType:"application/json",data:$.toJSON({query:e})}).done(function(e){if(null!=e)if(null!=e.errors){var t=$$.lt("candidates.error");$IU.isArray(e.errors)&&(-1!==(t=e.errors[0].message).indexOf(":")&&(t=t.substr(t.indexOf(":")+1)),c.empty(),u=document.createElement("li"),$(u).text(t),c.append(u))}else if(null!=e.data&&e.data[d.dataEntityName]){c.empty();var n=e.data[d.dataEntityName];if(0<n.length)for(var o=0,i=n.length;o<i;o++){var a,s=n[o],l=s.name,r=s.userName||s.account,r=($IU.isEmptyStr(r)||(l+="("+r+")"),u=document.createElement("li"),(m=$(u)).text(l).attr("title",l),c.append(u),s.email);$IU.isEmptyStr(r)&&$$.params.synthesizeEmail&&!$IU.isEmptyStr($$.params.tenantDomain)&&!$IU.isEmptyStr(s.account)&&(r=s.account+"@"+$$.params.tenantDomain),$IU.isEmptyStr(r)||(l=document.createElement("a"),a=document.createElement("i"),$(a).addClass("i-icon-mail").data("email",r),$(l).append(a).addClass("sendEmail").attr("href","mailto:"+r).attr("title",$$.lt("candidates.mailto",s.name)),m.append(l))}else u=document.createElement("li"),$(u).text($$.lt("candidates.noResult")),c.append(u);$$.candidatesQueried(c[0])}}),this.show()},init:function(){this.element=this.render(),this.initEvents(),this.requestData()},render:function(){this.options;var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("input"),o=$(e),e=$(n),i=$(t),a=document.createElement("ul"),s=$(a),e=(e.addClass("candidatesSearchInput").attr("placeholder",$$.lt("candidates.searchKeyword")).data("control",this),i.append(n).addClass("candidatesSearchDiv"),o.append(t).append(a).addClass("candidatesContainer"),s.addClass("candidatesResult"),new InfoPlus.Render.Mobile.Page({content:o,buttons:[{name:$$.lt("common.close")}],onShow:function(){s.css("height",o.outerHeight()-30+"px")}}));return this.searchInput=n,this.resultList=a,(this.page=e).element},show:function(){this.page.show()},close:function(){this.page.close()},initEvents:function(){$(this.searchInput).on("keyup",function(e){var t=$(this).data("control");if(e.which===n)return t.close(),!1;t.lastRequestKeyword!==$(this).val()&&(null!=t.requestFlag&&clearTimeout(t.requestFlag),t.requestFlag=setTimeout(function(){t.requestData()},300))})}}),define("InfoPlus.Render.Candidates",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.options,t=document.createElement("span"),n=(t.setAttribute("id","preview_start_span"),document.createElement("a"));return $(n).attr("id","preview_start_button").text($$.lt("preview.startButtonText")),t.appendChild(n),this.startLink=n,!1===e.startable&&$(t).hide(),t},initEvents:function(){var e=this.options;null!=e.onClick&&"function"==typeof e.onClick&&$(this.startLink).click(e.onClick)},show:function(){!1!==this.options.startable&&$(this.element).show()}}),define("InfoPlus.Preview.Start",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{render:function(){var e=this.options.app,t=document.createElement("div"),n=document.createElement("div"),o=(n.setAttribute("id","introduce_container"),document.createElement("div")),i=(o.setAttribute("id","introduce_icon_container"),document.createElement("img")),i=(i.setAttribute("id","preview_app_icon"),i.setAttribute("src",e.iconUrl),null!=e.iconPalette&&""!==e.iconPalette?$(i).css("background-color",e.iconPalette):-1!==e.iconUrl.indexOf("default_workflow_icon")&&$(i).css("background-color","transparent"),o.appendChild(i),n.appendChild(o),document.createElement("div")),o=(i.setAttribute("id","introduce_info_container"),document.createElement("div")),a=($(o).addClass("introduce_name").text(e.name),i.appendChild(o),o=document.createElement("div"),$(o).addClass("introduce_content"),i.appendChild(o),$(o).append("<table><tr><td class='introduce_label'>"+$$.lt("preview.department")+"</td><td class='introduce_department'>"+(e.department||"　")+"</td></tr><tr><td class='introduce_empty_line'></td><td></td></td></tr></tr><tr><td class='introduce_label'>"+$$.lt("preview.contact")+"</td><td class='introduce_contact'>"+(e.contact||"　")+"</td></tr></table>"),o=document.createElement("div"),document.createElement("span")),s=document.createElement("div"),l=document.createElement("div"),r=document.createElement("div"),r=($(r).addClass("rating_score").css("width",e.rating+"%"),$(l).addClass("star_container").append(r),$(s).addClass("rating_star").append(l),document.createElement("span")),l=document.createElement("span");return $(l).addClass("rated_count").text($$.lt("preview.rateCount",e.rated)),$(r).addClass("rated").append(l),$(a).addClass("introduce_rating").append(s).append(r),$(o).addClass("introduce_line").append(a),i.appendChild(o),n.appendChild(i),$(t).attr("id","preview_introduce").css("display","none").append(n),t},show:function(){!0!==this.options.hide&&$(this.element).show()}}),define("InfoPlus.Preview.Introduce",e)}(window),function(){function e(e){InfoPlus.Theme.BaseComponent.call(this,e)}e.prototype=$.extend(new InfoPlus.Theme.BaseComponent,{currentViewIndex:0,setCurrentViewIndex:function(e){this.currentViewIndex=e},getCurrentViewIndex:function(){return this.currentViewIndex},render:function(){var e=this.options,t=e.views,n=e.introduce,e=e.start;if(null!=t&&null!=n&&null!=e){for(var o=$(n.getElement()),i=$(e.getElement()),a=0,s=t.length;a<s;a++){var l=t[a].element,l=$(l);0===a?(l.prepend(o),l.parents(".infoplus_view_wrap_outer").addClass("preview_view")):l.parents(".infoplus_view_wrap_outer").hide()}var r,d=document.createElement("div"),d=$(d);d.addClass("preview_command_bar").append(i),$("#renderForm").after(d),1<t.length&&(i.before((d=document.createElement("span"),r=document.createElement("a"),$(r).addClass("preview_previous_button").attr("href","#").text($$.lt("preview.previous")),$(d).append(r).css("display","none"),d)),i.before((r=document.createElement("span"),d=document.createElement("a"),$(d).addClass("preview_next_button").attr("href","#").text($$.lt("preview.next")),$(r).append(d),r)),e.hide(),this.currentViewIndex=0),$IU.showBackIcon()?(i=document.createElement("div"),d=document.createElement("div"),$(d).attr("id","title_holder").addClass("preview"),$(i).attr("id","header_holder").append(d),$("#renderContent_holder").before(i).addClass("title_only"),this.createTitleIcon()):0===$("#header_holder").length&&$("#renderContent_holder").addClass("no_header"),n.show()}},createTitleIcon:function(){var e=new InfoPlus.Render.TitleIcon({id:"title_icon",back:!0,onClick:function(){return $IU.processBack($$.params.back),!1}});$("#title_holder").append(e.getElement())},initEvents:function(){function o(e,t){document.body.scrollTop=0,document.documentElement.scrollTop=0;var n=$(e[t]);n.find(".infoplus_view").prepend($(s.getElement())),n.fadeIn(),$(".preview_command_bar").fadeIn(),0!==t?$(".preview_previous_button").parent().show():$(".preview_previous_button").parent().hide(),t!==e.size()-1?($(".preview_next_button").parent().show(),a.hide()):($(".preview_next_button").parent().hide(),a.show()),i.setCurrentViewIndex(t)}var i=this,a=this.options.start,s=this.options.introduce;$(".preview_previous_button").click(function(){var e=$(".infoplus_view_wrap_outer"),t=i.getCurrentViewIndex();return $(".preview_command_bar").fadeOut(),$(e[t]).fadeOut(function(){0<=--t&&o(e,t)}),!1}),$(".preview_next_button").click(function(){var e=$(".infoplus_view_wrap_outer"),t=e.size(),n=i.getCurrentViewIndex();return $(".preview_command_bar").fadeOut(),$(e[n]).fadeOut(function(){++n<t&&o(e,n)}),!1})}}),define("InfoPlus.Preview.Layout",e)}(window);